{"version":3,"sources":["components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.PieChart/index.js","components/Viewer.Components/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","components/Viewer.Components/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/components/WidgetContainer/WidgetContainer.scss?3736","components/WidgetContainer/WidgetContainer.scss","components/WidgetContainer/WidgetContainer.js","components/WidgetContainer/index.js","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.js","webpack:///./src/components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.scss?d23d","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.PieChart/Viewing.Extension.PieChart.scss","webpack:///./src/components/ReactPie/ReactPie.scss?1b52","components/ReactPie/ReactPie.scss","components/ReactPie/ReactPieSegment.js","components/ReactPie/ReactPie.js","components/ReactPie/index.js"],"names":["__webpack_require__","r","__webpack_exports__","MultiModelExtensionBase","viewer","_this","options","arguments","length","undefined","defaultOptions","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onModelCompletedLoad","bind","assertThisInitialized","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onLoadNodeProperties","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","objectSpread","react","initializeEvents","contextMenu","onContextMenu","addHandler","_this2","removeHandler","viewerEvents","forEach","event","removeEventListener","id","handler","eventSink","off","_this3","viewerEvent","Autodesk","Viewing","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","then","args","dbId","_ref","properties","onLoadNodeProperties","toConsumableArray","concat","model","filter","guid","_this4","on","EXTENSION_LOADED_EVENT","MODEL_ROOT_LOADED_EVENT","TOOLBAR_CREATED_EVENT","controlledSelection","push","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","_this5","eventTasks","Array","isArray","map","Promise","resolve","addEventListener","__handler","all","emit","get","prototype","emitAcc","EventsEmitter","Composer","Extension","content","module","i","hmr","transform","insertInto","locals","exports","WidgetContainer","props","showTitle","renderTitle","react_default","a","createElement","className","title","dimensions","React","Children","children","child","newProps","assign","cloneElement","classNames","split","height","join","style","renderChildren","PureComponent","PieChartExtension","_Users_philippe_Dropbox_projects_leefsmp_forge_poc_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","_Users_philippe_Dropbox_projects_leefsmp_forge_poc_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","_Users_philippe_Dropbox_projects_leefsmp_forge_poc_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","toggleTheming","_Users_philippe_Dropbox_projects_leefsmp_forge_poc_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__","onStopResize","render","document","onTabActivated","setState","activeProperty","showLoader","disabled","items","data","pushRenderExtension","activeModel","loadChart","loadDynamicExtension","buildMenu","menu","item","toLowerCase","target","isolate","fitToView","console","log","getState","theming","popRenderExtension","_Users_philippe_Dropbox_projects_leefsmp_forge_poc_node_modules_babel_runtime_helpers_esm_get__WEBPACK_IMPORTED_MODULE_6__","getData","instanceTree","getLeafNodes","componentIds","chartProperties","getPropertyList","$","parent","find","css","Math","min","chartPropertiesList","entry","name","setActiveProperty","defaultIndex","getFragIds","fragIds","fragIdToMaterial","fragList","getFragmentList","fragId","material","getMaterial","source","state","group","dbIds","setMaterial","invalidate","propNameOrObject","disable","propName","propNames","buildPropertyData","clrStr","clr","parseInt","replace","shading","THREE","FlatShading","specular","shininess","emissive","diffuse","color","MeshPhongMaterial","matman","addMaterial","totalValue","minPercent","result","value","key","fullComponentsMap","mapComponentsByProp","componentsMap","indexOf","groupedMap","groupMap","keys","colors","d3","scale","linear","domain","range","idx","percent","_this6","label","toFixed","createMaterial","shortLabel","sortBy","_this7","menuItems","react__WEBPACK_IMPORTED_MODULE_18___default","react_bootstrap_lib_MenuItem__WEBPACK_IMPORTED_MODULE_11___default","eventKey","onClick","themingClr","react_bootstrap_lib_DropdownButton__WEBPACK_IMPORTED_MODULE_10___default","_this8","opts","WidgetContainer__WEBPACK_IMPORTED_MODULE_12__","Loader__WEBPACK_IMPORTED_MODULE_17__","show","ReactPie__WEBPACK_IMPORTED_MODULE_16__","onSegmentClicked","expanded","dataGuid","theExtensionManager","registerExtension","ExtensionId","ReactPieSegment","onMouseEnter","onMouseLeave","onMouseMove","z","centre","rIn","rOut","start","delta","endRad","startOut","x","cos","y","sin","endOut","startIn","endIn","largeArc","PI","e","onMouseOver","_this$props","fillColor","strokeColor","pathDef","generatePathDef","labelDist","labelRad","labelPos","labelStyle","stroke","fill","d","Component","ReactPie","disableTooltip","size","width","segments","resizeSegments","loadSegments","tooltipActive","tooltip","animate","onUpdate","tween","stepSegments","segment","duration","total","reduce","res","startAcc","index","floor","dir","expandTween","innerRadius","outerRadius","outerRadiusPx","innerRadiusPx","format","Date","getTime","c","random","toString","easing","stopwatch","Stopwatch","dt","animationStep","getElapsedMs","param","animParam","requestAnimationFrame","onSegmentMouseOver","expandOutIdx","expandInIdx","s","nextExpanded","t","easeOutElastic","offsetRad","offset","expandSegment","ReactPieSegment_ReactPieSegment","stopPropagation","tooltipCls","react_measure_default","bounds","onResize","rect","_ref2","measureRef","ref","data-for","data-tip","dist_default","getContent","effect","fillOpacity","strokeWidth"],"mappings":"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","file":"static/js/17.a7c23f1d.chunk.js","sourcesContent":["import './Viewing.Extension.PieChart'\n\nexport default 'Viewing.Extension.PieChart'\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n\n    // bindings\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onLoadNodeProperties = this.__onLoadNodeProperties.bind(this)\n    this.__onModelRootLoaded    = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated     = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded      = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded        = this.__onModelLoaded.bind(this)\n\n    this.models = viewer.impl.modelQueue().getModels()\n\n    this.defaultOptions = defaultOptions\n\n    this.options = {\n      ...defaultOptions,\n      ...options\n    }\n\n    this.react = this.options.react\n\n    this.viewer = viewer\n\n    this.initializeEvents()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () { \n\n    if (this.options.contextMenu && this.onContextMenu) {\n      this.options.contextMenu.addHandler(\n        this.onContextMenu)\n    } \n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    if (this.options.contextMenu && this.onContextMenu) {\n      this.options.contextMenu.removeHandler(\n        this.onContextMenu)\n    }\n\n    this.viewerEvents.forEach((event) => {\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off(\n        'MetaProperties:loadNodeProperties',\n        this.__onLoadNodeProperties)\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onLoadNodeProperties ({dbId, properties}) {\n    \n    if (this.onLoadNodeProperties) {\n      return this.onLoadNodeProperties(dbId, properties)\n    }\n  }\n\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on(\n        'MetaProperties:loadNodeProperties',\n        this.__onLoadNodeProperties)\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      }\n    ]\n\n    if (!this.options.controlledSelection) {\n      this.viewerEvents.push({\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      })\n    }\n   \n    this.viewerEvents.forEach((event) => {\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n\n  /////////////////////////////////////////////////////////\n  // \n  //\n  /////////////////////////////////////////////////////////\n  emit (eventId, args) {\n    return this.options.eventSink\n      ? this.options.eventSink.emit(eventId, args)\n      : super.emit(eventId, args)\n  }\n\n  emitAcc (eventId, args) {\n    return this.options.eventSink\n      ? this.options.eventSink.emitAcc(eventId, args)\n      : super.emitAcc(eventId, args)\n  }\n}\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n","import PropTypes from 'prop-types'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.PureComponent {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.BarChart\n// by Philippe Leefsma, March 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport DropdownButton from 'react-bootstrap/lib/DropdownButton'\nimport MenuItem from 'react-bootstrap/lib/MenuItem'\nimport WidgetContainer from 'WidgetContainer'\nimport './Viewing.Extension.PieChart.scss'\nimport transform from 'lodash/transform'\nimport sortBy from 'lodash/sortBy'\nimport PieChart from 'ReactPie'\nimport Loader from 'Loader'\nimport React from 'react'\nimport d3 from 'd3'\nimport {\n  mapComponentsByProp,\n  getPropertyList,\n  getLeafNodes, \n  setMaterial,\n  getFragIds\n} from 'Viewer.Toolkit'\n\nclass PieChartExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.toggleTheming = this.toggleTheming.bind(this)\n\n    this.onStopResize = this.onStopResize.bind(this)\n\n    this.renderTitle = this.renderTitle.bind(this)\n\n    this.render = this.render.bind(this)\n\n    document.addEventListener(\n      'visibilitychange',\n      this.onTabActivated)\n\n    this.react = options.react\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'pie-chart'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.PieChart'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.react.setState({\n      activeProperty: '',\n      showLoader: true,\n      disabled: true,\n      items: [],\n      data: []\n    }).then (() => {\n\n      this.react.pushRenderExtension(this)\n\n      const model = this.viewer.activeModel ||\n        this.viewer.model\n\n      if (model) {\n\n        this.loadChart (model)\n      }\n    })\n\n    this.viewer.loadDynamicExtension(\n      'Viewing.Extension.ContextMenu', {\n        buildMenu: (menu) => {\n          return menu.map((item) => {\n            const title = item.title.toLowerCase()\n            if (title === 'show all objects') {\n              return {\n                title: 'Show All objects',\n                target: () => {\n                  this.viewer.isolate()\n                  this.viewer.fitToView()\n                }\n              }\n            }\n            return item\n          })\n        }\n      })\n\n    console.log('Viewing.Extension.PieChart loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.PieChart unloaded')\n\n    const state = this.react.getState()\n\n    if (state.theming) {\n      this.toggleTheming()\n    }\n\n    this.react.popRenderExtension(this)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async loadChart (model) {\n\n    await this.react.setState({\n      showLoader: true\n    })\n\n    if (!model.getData().instanceTree)\n      return\n\n    this.componentIds = await getLeafNodes(model)\n\n    this.chartProperties =\n      this.options.chartProperties ||\n      await getPropertyList(\n        this.viewer, this.componentIds, model)\n\n    $('#pie-chart-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.pie-chart').height() - 42,\n        this.chartProperties.length * 26 + 16)\n    })\n\n    const chartPropertiesList = \n      this.chartProperties.map((entry) => {\n        return (typeof entry === 'string') \n          ? entry : entry.name\n      })\n\n    await this.react.setState({\n      items: chartPropertiesList\n    })\n\n    this.setActiveProperty (\n      this.chartProperties[this.options.defaultIndex || 0])\n\n    const fragIds = await getFragIds(\n      model, this.componentIds)\n\n    this.fragIdToMaterial = {}\n\n    const fragList = this.viewer.model.getFragmentList()\n\n    fragIds.forEach((fragId) => {\n\n      const material = fragList.getMaterial(fragId)\n\n      if (material) {\n\n        this.fragIdToMaterial[fragId] = material\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    if (event.source !== 'model.loaded') {\n\n      this.loadChart(event.model)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    this.loadChart(event.model)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toggleTheming () {\n\n    const state = this.react.getState()\n\n    const theming = !state.theming\n\n    this.react.setState({\n      theming\n    })\n\n    if (theming) {\n\n      state.data.forEach((group) => {\n\n        group.dbIds.forEach((dbId) => {\n\n          const model = this.viewer.activeModel ||\n            this.viewer.model\n\n          setMaterial(\n            model, dbId,\n            group.material)\n        })\n      })\n\n    } else {\n\n      for(const fragId in this.fragIdToMaterial) {\n\n        const material = this.fragIdToMaterial[fragId]\n\n        const model = this.viewer.activeModel ||\n          this.viewer.model\n\n        const fragList = model.getFragmentList()\n\n        fragList.setMaterial(fragId, material)\n      }\n    }\n\n    this.viewer.impl.invalidate(\n      true, false, false)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveProperty (propNameOrObject, disable) {\n\n    const state = this.react.getState()\n\n    const propName = \n      propNameOrObject.name || \n      propNameOrObject\n\n    await this.react.setState({\n      activeProperty: disable ? propName : '',\n      disabled: disable,\n      showLoader: true\n    })\n\n    const propNames = \n      propNameOrObject.properties || \n      [propNameOrObject]\n\n    const data = await this.buildPropertyData (propNames)\n\n    await this.react.setState({\n      activeProperty: propName,\n      showLoader: false,\n      guid: this.guid(),\n      disabled: false,\n      data\n    })\n\n    if (state.theming) {\n\n      data.forEach((group) => {\n\n        group.dbIds.forEach((dbId) => {\n\n          const model = this.viewer.activeModel ||\n            this.viewer.model\n\n          setMaterial(\n            model, dbId,\n            group.material)\n        })\n      })\n\n      this.viewer.impl.invalidate(\n        true, false, false)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  createMaterial (clrStr) {\n\n    const clr = parseInt(clrStr.replace('#',''), 16)\n\n    const props = {\n      shading: THREE.FlatShading,\n      name: this.guid(),\n      specular: clr,\n      shininess: 0,\n      emissive: 0,\n      diffuse: 0,\n      color: clr\n    }\n\n    const material = new THREE.MeshPhongMaterial(props)\n\n    this.viewer.impl.matman().addMaterial(\n      props.name, material, true)\n\n    return material\n  }\n\n  /////////////////////////////////////////////////////////\n  // Group object map for small values:\n  // If one entry of the map is smaller than minPercent,\n  // this entry will be merged in the \"group\" entry\n  //\n  /////////////////////////////////////////////////////////\n  groupMap (map, group, totalValue, minPercent) {\n\n    return transform (map, (result, value, key) => {\n\n      if (value.length * 100 / totalValue < minPercent) {\n\n        result[group] = (result[group] || []).concat(value)\n\n      } else {\n\n        result[key] = value\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async buildPropertyData (propNames) {\n\n    const model = this.viewer.activeModel ||\n      this.viewer.model\n\n    const fullComponentsMap = {}\n\n    for (let i=0; i<propNames.length; ++i) {\n    \n      const componentsMap = \n        await mapComponentsByProp(\n          model, propNames[i], this.componentIds)\n\n      Object.assign(fullComponentsMap, componentsMap)\n    }\n\n    for (const key in fullComponentsMap) {\n\n      if (!key.length || key.indexOf('<') > -1) {\n\n        delete fullComponentsMap[key]\n      }\n    }\n\n    const groupedMap = this.groupMap(fullComponentsMap, 'Other',\n      this.componentIds.length, 2.0)\n\n    const keys = Object.keys (groupedMap)\n\n    const colors = d3.scale.linear()\n      .domain([0, keys.length * .33, keys.length * .66, keys.length])\n      .range(['#FCB843', '#C2149F', '#0CC4BD', '#0270E9'])\n\n    const data = keys.map((key, idx) => {\n\n      const dbIds = groupedMap[key]\n\n      const color = colors(idx)\n\n      const percent = 100 * dbIds.length / this.componentIds.length\n\n      return {\n        label: `${key}: ${percent.toFixed(2)}% (${dbIds.length})`,\n        material: this.createMaterial(color),\n        value: dbIds.length,\n        shortLabel: key,\n        percent,\n        dbIds,\n        color,\n        key\n      }\n    })\n\n    return sortBy(data, (entry) => -1 * entry.value)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onStopResize () {\n\n    const state = this.react.getState()\n\n    $('#pie-chart-dropdown').parent().find('ul').css({\n      height: Math.min(\n        $('.pie-chart').height() - 42,\n        state.items.length * 26 + 16)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    const state = this.react.getState()\n\n    const menuItems = state.items.map((item, idx) => {\n      return (\n        <MenuItem eventKey={idx} key={idx} onClick={() => {\n\n          const entry = this.chartProperties[idx] \n\n          this.setActiveProperty (entry, true)\n        }}>\n          { item }\n        </MenuItem>\n      )\n    })\n\n    const themingClr = {\n      color: state.theming\n        ? '#FF0000'\n        : '#9b9b9b'\n    }\n\n    return (\n      <div className=\"title controls\">\n        <label>\n          {this.options.title || 'Pie Chart'}\n        </label>\n\n        <DropdownButton\n          title={\"Property: \" + state.activeProperty }\n          disabled={state.disabled}\n          key=\"pie-chart-dropdown\"\n          id=\"pie-chart-dropdown\">\n         { menuItems }\n        </DropdownButton>\n\n        <button onClick={this.toggleTheming}\n          disabled={state.disabled}\n          title=\"color theming\">\n          <span className=\"fa fa-paint-brush\" style={themingClr}>\n          </span>\n        </button>\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render (opts = {showTitle: true}) {\n\n    const state = this.react.getState()\n\n    return (\n      <WidgetContainer renderTitle={this.renderTitle}\n        showTitle={opts.showTitle}\n        className={this.className}>\n\n        <Loader show={state.showLoader}/>\n\n        <PieChart onSegmentClicked={(data, expanded) => {\n\n            const dbIds = expanded ? [] : data.dbIds\n\n            this.viewer.isolate(dbIds)\n\n            if (this.options.fitToView) {\n              this.viewer.fitToView()\n            }  \n          }}\n          dataGuid={state.guid}\n          data={state.data}\n        />\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  PieChartExtension.ExtensionId,\n  PieChartExtension)\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.PieChart.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".pie-chart {\\n  background: #fdfdfd; }\\n  .pie-chart .title {\\n    position: relative !important;\\n    overflow: visible;\\n    float: left; }\\n  .pie-chart .title > label {\\n    white-space: nowrap;\\n    font-weight: normal;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    margin-left: 27px;\\n    select: none;\\n    width: 85px; }\\n  .pie-chart .title > .dropdown {\\n    position: relative;\\n    top: -1px; }\\n  .pie-chart .title > button {\\n    margin-left: 4px;\\n    height: 26px; }\\n  .pie-chart .title > .dropdown > button {\\n    padding: 2px 12px;\\n    height: 26px; }\\n  .pie-chart .title .dropdown-menu {\\n    overflow: scroll; }\\n  .pie-chart .loader-background {\\n    background: #fdfdfd; }\\n  .pie-chart .loader,\\n  .pie-chart .loader:before,\\n  .pie-chart .loader:after {\\n    top: 35%; }\\n  .pie-chart .loader:before,\\n  .pie-chart .loader:after {\\n    margin: -9px auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./ReactPie.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".react-pie {\\n  height: 100%;\\n  width: 100%; }\\n  .react-pie .react-pie-inner {\\n    height: 100%;\\n    width: 100%; }\\n    .react-pie .react-pie-inner svg {\\n      height: 100%;\\n      width: 100%; }\\n      .react-pie .react-pie-inner svg .react-pie-segment {\\n        cursor: pointer; }\\n        .react-pie .react-pie-inner svg .react-pie-segment path {\\n          transition-property: fill-opacity;\\n          transition-timing-function: ease;\\n          transition-duration: 0.5s;\\n          transition-delay: 0.0s;\\n          fill-opacity: 0.95;\\n          stroke-width: 1.0; }\\n          .react-pie .react-pie-inner svg .react-pie-segment path:hover {\\n            fill-opacity: 0.7;\\n            stroke-width: 2.0; }\\n        .react-pie .react-pie-inner svg .react-pie-segment text {\\n          pointer-events: none;\\n          font-size: 10px;\\n          fill: white; }\\n  .react-pie .react-pie-tooltip-container {\\n    transition-property: opacity;\\n    transition-timing-function: ease;\\n    transition-duration: 1.0s;\\n    transition-delay: 0.0s;\\n    pointer-events: none;\\n    position: absolute;\\n    opacity: 0;\\n    height: 100%;\\n    width: 100%;\\n    left: 0;\\n    top: 0; }\\n    .react-pie .react-pie-tooltip-container.active {\\n      opacity: 1; }\\n    .react-pie .react-pie-tooltip-container .react-pie-tooltip {\\n      background-color: #ededed !important;\\n      border: 1px solid grey;\\n      color: grey !important;\\n      padding: 4px; }\\n\", \"\"]);\n\n// exports\n","import React from 'react'\n\nexport default class ReactPieSegment extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n\n    this.onMouseEnter = this.onMouseEnter.bind(this)\n    this.onMouseLeave = this.onMouseLeave.bind(this)\n    this.onMouseMove = this.onMouseMove.bind(this)\n    this.onClick = this.onClick.bind(this)\n\n    this.state = {\n      z: 0\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  generatePathDef(centre, rIn, rOut, start, delta) {\n\n    const endRad = start + delta\n\n    const startOut = {\n      x: centre.x + rOut * Math.cos(start),\n      y: centre.y + rOut * Math.sin(start)\n    }\n\n    const endOut = {\n      x: centre.x + rOut * Math.cos(endRad),\n      y: centre.y + rOut * Math.sin(endRad)\n    }\n\n    const startIn = {\n      x: centre.x + rIn * Math.cos(endRad),\n      y: centre.y + rIn * Math.sin(endRad)\n    };\n\n    var endIn = {\n      x: centre.x + rIn * Math.cos(start),\n      y: centre.y + rIn * Math.sin(start)\n    }\n\n    const largeArc = delta > Math.PI ? 1 : 0\n\n    return (\n      `M${startOut.x},${startOut.y}` +\n      ` A${rOut},${rOut} 0 ` +\n      `${largeArc},1 ${endOut.x},${endOut.y}` +\n      ` L${startIn.x},${startIn.y}` +\n      ` A${rIn},${rIn} 0 ` +\n      `${largeArc},0 ${endIn.x},${endIn.y}` +\n      ` L${startOut.x},${startOut.y} Z`\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseEnter (e) {\n\n    this.setState({\n      z: 2.0\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseLeave (e) {\n\n    this.setState({\n      z: 1.0\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onMouseMove (e) {\n\n    this.props.onMouseOver(e)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onClick (e) {\n\n    this.props.onClick(e)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const {\n      fillColor, strokeColor,\n      start, delta,\n      rIn, rOut,\n      centre\n    } = this.props\n\n    const pathDef = this.generatePathDef(\n      centre, rIn, rOut, start, delta)\n\n    const labelDist = rIn + 0.5 * (rOut-rIn)\n\n    const labelRad = start + 0.5 * delta\n\n    const labelPos = {\n      x: centre.x + labelDist * Math.cos (labelRad) - 5,\n      y: centre.y + labelDist * Math.sin (labelRad) + 5\n    }\n\n    const labelStyle = {\n      transform: `translate(${labelPos.x}px, ${labelPos.y}px)`\n    }\n\n    return (\n      <g className='react-pie-segment' z={this.state.z}>\n        <path\n          onMouseEnter={this.onMouseEnter}\n          onMouseLeave={this.onMouseLeave}\n          onMouseMove={this.onMouseMove}\n          onClick={this.onClick}\n          stroke={strokeColor}\n          fill={fillColor}\n          d={pathDef}\n        />\n        <text style={labelStyle}>\n          {this.props.label}\n        </text>\n      </g>\n    )\n  }\n}\n\n\n\n","/////////////////////////////////////////////////////////\n// ReactPie: a responsive PieChart in pure React + SVG\n// by Philippe Leefsma, Jan 2017\n//\n/////////////////////////////////////////////////////////\nimport PieSegment from './ReactPieSegment'\nimport ReactTooltip from 'react-tooltip'\nimport Measure from 'react-measure'\nimport Stopwatch from 'Stopwatch'\nimport easing from 'easing-js'\nimport React from 'react'\nimport './ReactPie.scss'\n\nexport default class ReactPie extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  // Defines a few default properties\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    innerRadius: 0.35,\n    outerRadius: 0.90,\n    fillOpacity: 0.95,\n    strokeWidth: 1.0,\n    data: []\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n\n    this.disableTooltip = this.disableTooltip.bind(this)\n\n    const size = { width:0, height:0 }\n\n    const segments = this.resizeSegments(\n      this.loadSegments(props.data),\n      size)\n\n    this.state = {\n      tooltipActive: false,\n      tooltip: '',\n      segments,\n      size\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Upon properties change, reload the pie only if\n  // dataGuid has changed. This is controlled by the\n  // parent component\n  //\n  /////////////////////////////////////////////////////////\n  componentWillReceiveProps (props) {\n\n    if (props.dataGuid !== this.props.dataGuid) {\n\n      const segments = this.resizeSegments(\n        this.loadSegments(props.data),\n        this.state.size)\n\n      this.animate ({\n        onUpdate: (tween) => {\n\n          const stepSegments = segments.map((segment) => {\n            return Object.assign({}, segment, {\n              delta: segment.delta * tween\n            })\n          })\n\n          this.setState(Object.assign({},\n            this.state, {\n              segments: stepSegments\n            }))\n        },\n        duration: 850\n      })\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Loads pie segments\n  //\n  /////////////////////////////////////////////////////////\n  loadSegments (data) {\n\n    const total = data.reduce((res, entry) => {\n      return entry.value + res\n    }, 0)\n\n    let startAcc = 0.0\n\n    return data.map((entry, index) => {\n\n      const delta = (2 * Math.PI * entry.value/total)\n\n      const label = Math.floor(100 * entry.value/total) + '%'\n\n      const strokeColor = entry.strokeColor ||\n        this.props.strokeColor ||\n        entry.color\n\n      const key = entry.key || this.guid()\n\n      const start = startAcc\n\n      startAcc += delta\n\n      const dir = {\n        x: Math.cos(start + 0.5 * delta),\n        y: Math.sin(start + 0.5 * delta)\n      }\n\n      return {\n        delta: delta - 0.25 * Math.PI/180,\n        fillColor: entry.color,\n        value: entry.value,\n        color: entry.color,\n        expandTween: 0.0,\n        expanded: false,\n        strokeColor,\n        label,\n        index,\n        start,\n        dir,\n        key\n      }\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Resize pie segments after parent container\n  // has been resized for example\n  //\n  /////////////////////////////////////////////////////////\n  resizeSegments (segments, size) {\n\n    const { innerRadius, outerRadius } = this.props\n\n    const { width, height } = size\n\n    const outerRadiusPx =\n      0.5 * outerRadius * Math.min(\n        width, height)\n\n    const innerRadiusPx =\n      0.5 * innerRadius * Math.min(\n        width, height)\n\n    const centre = {\n      y: height * 0.5,\n      x: width * 0.5\n    }\n\n    return segments.map((segment) => {\n\n      return Object.assign({}, segment, {\n        rOut: outerRadiusPx,\n        rIn: innerRadiusPx,\n        centre\n      })\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Generates a guid\n  //\n  /////////////////////////////////////////////////////////\n  guid (format = 'xxx-xxx-xxx') {\n\n    var d = new Date().getTime()\n\n    const guid = format.replace(\n      /[xy]/g,\n      function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0\n        d = Math.floor(d / 16)\n        return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16)\n      })\n\n    return guid\n  }\n\n  /////////////////////////////////////////////////////////\n  // Animation: {\n  //  onUpdate,\n  //  duration,\n  //  easing\n  // }\n  //\n  /////////////////////////////////////////////////////////\n  animate ({onUpdate, duration, easing}) {\n\n    const stopwatch = new Stopwatch()\n\n    let dt = 0.0\n\n    const animationStep = () => {\n\n      dt += stopwatch.getElapsedMs()\n\n      if (dt > duration) {\n\n        onUpdate(1.0)\n\n      } else {\n\n        const param = dt/duration\n\n        const animParam = easing\n          ? easing(param, duration/1000)\n          : param\n\n        onUpdate(animParam)\n      }\n\n      if (dt < duration) {\n\n        requestAnimationFrame(animationStep)\n      }\n    }\n\n    animationStep()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Mouse over segment handler\n  //\n  /////////////////////////////////////////////////////////\n  onSegmentMouseOver (e, segment) {\n\n    const entry = this.props.data[segment.index]\n\n    this.setState(Object.assign({},\n      this.state, {\n        tooltipActive: true,\n        tooltip: entry.label\n      }))\n\n    if (this.props.onSegmentMouseOver) {\n\n      this.props.onSegmentMouseOver(entry)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Segment clicked handler\n  //\n  /////////////////////////////////////////////////////////\n  onSegmentClicked (e, segment) {\n\n    let expandOutIdx = -1\n    let expandInIdx = -1\n\n    const segments = this.state.segments.map((s, idx) => {\n\n      const nextExpanded = (s.key === segment.key && !segment.expanded)\n\n      if (s.expanded !== nextExpanded) {\n\n        nextExpanded\n          ? expandOutIdx = idx\n          : expandInIdx = idx\n      }\n\n      return(Object.assign({}, s, {\n        expanded: nextExpanded\n      }))\n    })\n\n    this.animate({\n      onUpdate: (tween) => {\n\n        if (expandInIdx > -1) {\n          segments[expandInIdx].expandTween = 1.0 - tween\n        }\n\n        if (expandOutIdx > -1) {\n          segments[expandOutIdx].expandTween = tween\n        }\n\n        this.setState(Object.assign({},\n          this.state, {\n            segments\n          }))\n      },\n      easing: (t, duration) => {\n        return easing.easeOutElastic(\n          t, 0, 1, duration)\n      },\n      duration: 750\n    })\n\n    if (this.props.onSegmentClicked) {\n\n      const entry = this.props.data[segment.index]\n\n      this.props.onSegmentClicked(\n        entry, segment.expanded)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  // Expands a segment\n  //\n  /////////////////////////////////////////////////////////\n  expandSegment (segment) {\n\n    const offsetRad = Math.PI/180 * 1.2 * segment.expandTween\n\n    const offset = segment.rOut * 0.05 * segment.expandTween\n\n    const centre = {\n      x: segment.centre.x + segment.dir.x * offset,\n      y: segment.centre.y + segment.dir.y * offset\n    }\n\n    return Object.assign({}, segment, {\n      delta: segment.delta - 2 * offsetRad,\n      start: segment.start + offsetRad,\n      rOut: segment.rOut + offset,\n      rIn: segment.rIn + offset,\n      centre: centre\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Disable tooltip\n  //\n  /////////////////////////////////////////////////////////\n  disableTooltip () {\n\n    this.setState(Object.assign({},\n      this.state, {\n        tooltipActive: false\n      }))\n  }\n\n  /////////////////////////////////////////////////////////\n  // React render\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const segments = this.state.segments.map((segment) => {\n\n      const onSegmentMouseOver = (e) => {\n        this.onSegmentMouseOver(e, segment)\n        e.stopPropagation()\n      }\n\n      const onSegmentClicked = (e) => {\n        this.onSegmentClicked(e, segment)\n      }\n\n      segment = segment.expandTween\n        ? this.expandSegment(segment)\n        : segment\n\n      return (\n        <PieSegment\n          strokeColor={segment.strokeColor}\n          onMouseOver={onSegmentMouseOver}\n          fillColor={segment.fillColor}\n          onClick={onSegmentClicked}\n          centre={segment.centre}\n          delta={segment.delta}\n          start={segment.start}\n          label={segment.label}\n          rOut={segment.rOut}\n          rIn={segment.rIn}\n          key={segment.key}\n        />\n      )\n    })\n\n    const tooltipCls = this.state.tooltipActive\n      ? 'react-pie-tooltip-container active'\n      : 'react-pie-tooltip-container'\n\n    return (\n      <Measure bounds onResize={(rect) => {\n\n          const size = {\n            height: rect.bounds.height,\n            width: rect.bounds.width\n          }\n\n          const segments = this.resizeSegments(\n            this.state.segments, size)\n\n          this.setState(Object.assign({},\n            this.state, {\n              segments,\n              size\n            }))\n        }}>\n        {\n          ({ measureRef }) =>\n            <div ref={measureRef} className=\"react-pie\">\n              <div className=\"react-pie-inner\"\n                onMouseMove={this.disableTooltip}\n                data-for=\"react-pie-tooltip\"\n                data-tip=''>\n                <svg>\n                  {segments}\n                </svg>\n              </div>\n              <div className={tooltipCls}>\n                <ReactTooltip\n                  getContent={[() => <div>{this.state.tooltip}</div>]}\n                  className=\"react-pie-tooltip\"\n                  id=\"react-pie-tooltip\"\n                  effect=\"float\"\n                />\n              </div>\n            </div>\n        }\n      </Measure>\n    )\n  }\n}\n\n\n","import ReactPie from './ReactPie'\n\nexport default ReactPie\n"],"sourceRoot":""}