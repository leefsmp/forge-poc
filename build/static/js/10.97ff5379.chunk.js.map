{"version":3,"sources":["components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/ConfigManager.Command/ConfigManager.Command.js","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/ConfigManager.Command/index.js","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.Config.API.js","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.js","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/index.js","components/Viewer.Components/Viewer.MultiModelExtensionBase/Viewer.MultiModelExtensionBase.js","components/Viewer.Components/Viewer.MultiModelExtensionBase/index.js","webpack:///./src/components/WidgetContainer/WidgetContainer.scss?3736","components/WidgetContainer/WidgetContainer.scss","components/WidgetContainer/WidgetContainer.js","components/WidgetContainer/index.js","components/Viewer.Components/Viewer.Command/Viewer.Command.Tool.js","components/Viewer.Components/Viewer.Command/Viewer.Command.js","components/Viewer.Components/Viewer.Command/index.js","webpack:///./src/components/Label/Label.scss?5660","components/Label/Label.scss","components/Label/Label.js","components/Label/index.js","components/Switch/Switch.js","components/Switch/index.js","webpack:///./src/components/Switch/Switch.scss?2095","components/Switch/Switch.scss","webpack:///./src/components/Input/Input.scss?010f","components/Input/Input.scss","components/Input/Input.js","components/Input/index.js","webpack:///./src/components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss?d590","components/Viewer.Components/Extensions/Dynamic/Viewing.Extension.ConfigManager/Viewing.Extension.ConfigManager.scss"],"names":["ConfigManagerCommand","viewer","_this","options","arguments","length","undefined","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","objectSpread","commandId","parentControl","control","createButtonControl","caption","icon","id","handler","commandTool","active","deactivate","activate","on","container","classList","add","emit","remove","event","keyCode","ViewerCommand","Command","ConfigAPI","apiUrl","opts","Promise","resolve","reject","ajax","then","sequences","result","sortByName","sortBy","seq","name","error","sequence","payload","url","method","headers","Accept","Content-Type","data","JSON","stringify","sequenceId","concat","res","state","stateId","ClientAPI","ConfigManagerExtension","defineProperty","assertThisInitialized","docked","react","pushRenderExtension","pushViewerPanel","popRenderExtension","popViewerPanel","configManagerCmd","renderTitle","bind","toggleItem","addItem","restoreFilter","playPeriod","dialogSvc","ServiceManager","getService","itemsClass","guid","restoreStates","drake","database","modelId","api","_this2","addEventListener","Autodesk","Viewing","MODEL_ROOT_LOADED_EVENT","e","loader","show","itemToggling","setState","emptyStateNameCaption","disabled","stateSelection","stateCreation","newSequenceName","newStateName","play","loop","items","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","readonly","ConfigManagerCmd","toolbar","onDeactivateCommand","onActivateCommand","loadSequences","stop","console","log","get","prototype","ms","setTimeout","getSequences","map","s","sleep","setActiveSequence","setModel","model","dbModelId","date","Date","_y$s$m$h$M$d","y","getFullYear","getSeconds","m","getMinutes","h","getHours","M","getMonth","d","getDay","_this3","onClose","getState","DOMPurify","sanitize","getDefaultName","stateIds","toConsumableArray","addSequence","off","className","title","content","react_default","createElement","Input","onChange","onInputChanged","onKeyDown","placeholder","open","sequenceName","_this4","item","assign","addState","_this5","clearTimeout","playTimeout","deleteSequence","filter","msg","dangerouslySetInnerHTML","__html","domItems","document","getElementsByClassName","Array","from","childNodes","childNode","dataset","getStateIds","newSequence","newItems","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","value","err","return","updateSequence","viewerState","renderOptions","onRestoreState","immediate","restoreImmediate","filteredState","filterState","restoreState","deleteState","stopPropagation","preventDefault","key","target","srcState","setNames","elementNames","parse","sets","isArray","elements","forEach","setName","elementName","element","VIEWER_STATE_RESTORED_EVENT","onStateRestored","removeEventListener","pivot","viewport","pivotPoint","navigation","setPivotPoint","THREE","Vector3","_this6","destroy","Dragula","onUpdateSequence","sequenceIdx","activateDrag","getStates","states","_this7","_this8","step","ExtensionId","height","width","panel","_this9","onClick","closePanel","_this10","sequenceItems","MenuItem_default","eventKey","stateCreationDisabled","ctrlClass","DropdownButton_default","copySequence","playSequence","Switch","isChecked","selectedItem","_this11","_this12","text","data-id","data-name","Label","deleteItem","_this13","WidgetContainer","showTitle","renderControls","renderItems","MultiModelExtensionBase","theExtensionManager","registerExtension","__webpack_exports__","defaultOptions","onModelCompletedLoad","onObjectTreeCreated","onModelRootLoaded","onExtensionLoaded","onModelActivated","onGeometryLoaded","onToolbarCreated","onModelBeginLoad","onModelUnloaded","onSelection","__onLoadNodeProperties","__onModelRootLoaded","__onModelActivated","__onModelUnloaded","__onModelLoaded","models","impl","modelQueue","getModels","initializeEvents","contextMenu","onContextMenu","addHandler","removeHandler","viewerEvents","eventSink","viewerEvent","OBJECT_TREE_CREATED_EVENT","GEOMETRY_LOADED_EVENT","args","dbId","_ref","properties","onLoadNodeProperties","EXTENSION_LOADED_EVENT","TOOLBAR_CREATED_EVENT","controlledSelection","push","AGGREGATE_SELECTION_CHANGED_EVENT","eventId","eventTasks","__handler","all","emitAcc","EventsEmitter","Composer","Extension","__webpack_require__","module","i","hmr","transform","insertInto","locals","exports","props","dimensions","React","Children","children","child","newProps","cloneElement","classNames","split","join","style","renderChildren","PureComponent","CommandTool","toolName","toolController","registerTool","activateTool","deactivateTool","deregisterTool","button","tool","onActivate","onDeactivate","removeControl","unregister","tooltip","UI","Button","fontSize","setToolTip","createButton","viewerToolbar","getToolbar","ControlGroup","addControl","textAlign","checked","toggle","ref","type","Component","input","focus","tabIndex","el","autoComplete","htmlFor","valueInit"],"mappings":"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","file":"static/js/10.97ff5379.chunk.js","sourcesContent":["import ViewerCommand from 'Viewer.Command'\n\nexport default class ConfigManagerCommand extends ViewerCommand {\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  constructor (viewer, options = {}) {\n\n    super (viewer, {\n      ...options,\n      commandId: 'ConfigManager'\n    })\n\n    if (options.parentControl) {\n\n      this.control = this.createButtonControl({\n        parentControl: options.parentControl,\n        caption: 'Configurations',\n        icon: 'toolbar-ff fa fa-server',\n        id: 'toolbar-config',\n        handler: () => {\n          this.commandTool.active\n            ? this.commandTool.deactivate()\n            : this.commandTool.activate()\n        }\n      })\n    }\n    \n    this.commandTool.on('activate', () => {\n      if (this.control) {\n        this.control.container.classList.add('active')\n      }\n      this.emit('activate')\n    })\n\n    this.commandTool.on('deactivate', () => {\n      if (this.control) {\n        this.control.container.classList.remove('active')\n      }\n      this.emit('deactivate')\n    })\n\n    this.commandTool.on('keydown', (event, keyCode) => {\n\n    })\n  }\n}\n\n\n","import Command from './ConfigManager.Command'\n\nexport default Command\n","////////////////////////////////////////////////////////////////\n// ConfigManager API\n//\n/////////////////////////////////////////////////////////////////\nimport sortBy from 'lodash/sortBy'\nimport ClientAPI from 'ClientAPI'\n\nexport default class ConfigAPI extends ClientAPI {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (apiUrl) {\n\n    super (apiUrl)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  getSequences (opts) {\n\n    return new Promise ((resolve, reject) => {\n\n      const url = '/sequences'\n\n      this.ajax(url).then ((sequences) => {\n\n        const result = opts.sortByName\n          ? sortBy(sequences, (seq) => { return seq.name })\n          : sequences\n\n        resolve (result)\n\n      }, (error) => reject(error))\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  addSequence (sequence) {\n\n    const payload = {\n      sequence\n    }\n\n    const url = '/sequences'\n\n    return this.ajax({\n      url: url,\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify(payload)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  updateSequence (sequence) {\n\n    const payload = {\n      sequence\n    }\n\n    const url = '/sequences'\n\n    return this.ajax({\n      url: url,\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify(payload)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  deleteSequence (sequenceId) {\n\n    const url = `/sequences/${sequenceId}`\n\n    return this.ajax({\n      url: url,\n      method: 'DELETE'\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async getStates (sequenceId) {\n\n    try {\n\n      const url = `/sequences/${sequenceId}/states`\n\n      const res = await this.ajax(url)\n\n      return res\n\n    } catch (ex) {\n\n      return []\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  addState (sequenceId, state) {\n\n    const payload = {\n      state\n    }\n\n    const url = `/sequences/${sequenceId}/states`\n\n    return this.ajax({\n      url: url,\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      data: JSON.stringify(payload)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  deleteState (sequenceId, stateId) {\n\n    const url = `/sequences/${sequenceId}/states/${stateId}`\n\n    return this.ajax({\n      url: url,\n      method: 'DELETE'\n    })\n  }\n}\n","/////////////////////////////////////////////////////////\n// Viewing.Extension.StateManager.React\n// by Philippe Leefsma, March 2017\n//\n/////////////////////////////////////////////////////////\nimport MultiModelExtensionBase from 'Viewer.MultiModelExtensionBase'\nimport ConfigStorageAPI from './Viewing.Extension.Config.StorageAPI'\nimport DropdownButton from 'react-bootstrap/lib/DropdownButton'\nimport ConfigManagerCmd from './ConfigManager.Command'\nimport ConfigAPI from './Viewing.Extension.Config.API'\nimport MenuItem from 'react-bootstrap/lib/MenuItem'\nimport './Viewing.Extension.ConfigManager.scss'\nimport WidgetContainer from 'WidgetContainer'\nimport 'react-dragula/dist/dragula.min.css'\nimport ServiceManager from 'SvcManager'\nimport Dragula from 'react-dragula'\nimport sortBy from 'lodash/sortBy'\nimport DOMPurify from 'dompurify'\nimport Switch from 'Switch'\nimport Label from 'Label'\nimport React from 'react'\nimport Input from 'Input'\n\nclass ConfigManagerExtension extends MultiModelExtensionBase {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options) {\n\n    super (viewer, options)\n\n    this.renderTitle = this.renderTitle.bind(this)\n    this.toggleItem = this.toggleItem.bind(this)\n    this.addItem = this.addItem.bind(this)\n\n    this.restoreFilter = options.restoreFilter || null\n\n    this.playPeriod = this.options.playPeriod || 1800\n\n    this.dialogSvc =\n      ServiceManager.getService('DialogSvc')\n\n    this.itemsClass = this.guid()\n\n    this.react = options.react\n\n    this.restoreStates = {}\n\n    this.drake = null\n\n    if (this.options.apiUrl) {\n\n      const {apiUrl, database, modelId} = options\n\n      const url = `${apiUrl}/${database}/${modelId}`\n\n      this.api = new ConfigAPI(url)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  get className() {\n\n    return 'config-manager'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.ConfigManager'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () {\n\n    this.viewer.addEventListener(\n      Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, (e) => {\n        if (this.options.loader) {\n          this.options.loader.show(false)\n        }\n      })\n\n    this.itemToggling = this.options.itemToggling\n\n    this.react.setState({\n      emptyStateNameCaption:\n         this.options.emptyStateNameCaption ||\n         'State Name ...',\n      disabled: this.options.disabled,\n      stateSelection: true,\n      stateCreation: true,\n      newSequenceName: '',\n      newStateName: '',\n      sequence: null,\n      sequences: [],\n      play: false,\n      loop: true,\n      items: []\n    }).then (async() => {\n\n      this.options.docked\n        ? await this.react.pushRenderExtension(this)\n        : await this.react.pushViewerPanel(this)\n\n      if (this.options.readonly) {\n        this.configManagerCmd = \n          new ConfigManagerCmd(this.viewer, {\n            parentControl: this.options.toolbar\n          })\n\n        this.configManagerCmd.on(\n          'deactivate', this.onDeactivateCommand)\n\n        this.configManagerCmd.on(\n          'activate', this.onActivateCommand)\n\n        this.configManagerCmd.activate()\n      }\n\n      if (this.api) {\n        this.loadSequences()\n      }\n    })\n\n    console.log('Viewing.Extension.ConfigManager loaded')\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    console.log('Viewing.Extension.ConfigManager unloaded')\n\n    this.react.popViewerPanel(this)\n\n    super.unload ()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onActivateCommand = () => {\n\n    this.options.docked\n        ? this.react.pushRenderExtension(this)\n        : this.react.pushViewerPanel(this)\n  }\n\n  onDeactivateCommand = () => {\n    \n    this.options.docked\n        ? this.react.popRenderExtension(this)\n        : this.react.popViewerPanel(this.id)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  sleep (ms) {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve()\n      }, ms)\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async loadSequences () {\n\n    let sequences =\n      await this.api.getSequences({\n        sortByName: true\n      })\n\n    if (this.options.readonly) {\n      sequences = sequences.map((s) => {\n        return {...s, readonly: true}\n      })\n    }  \n\n    const sequence = sequences.length ?\n      sequences[0] : null\n\n    await this.react.setState({\n      sequences\n    })\n\n    await this.sleep(2000)\n\n    await this.setActiveSequence (sequence)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    this.setModel(event.model)\n\n    this.loadSequences()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  setModel (model) {\n\n    const modelId = model.dbModelId ||\n      this.options.modelId\n\n    const database = model.database ||\n      this.options.database\n\n    const {apiUrl} = this.options\n\n    const url = `${apiUrl}/${database}/${modelId}`\n\n    this.api = new ConfigAPI(url)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  getDefaultName () {\n\n    const date = new Date()\n\n    const {d,M,y,h,m,s} = {\n      y: date.getFullYear(),\n      s: date.getSeconds(),\n      m: date.getMinutes(),\n      h: date.getHours(),\n      M: date.getMonth(),\n      d: date.getDay()\n    }\n\n    return `${d}/${M}/${y} - ${h}:${m}:${s}`\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  addSequence () {\n\n    this.react.setState({\n      newSequenceName: ''\n    })\n\n    const onClose = (result) => {\n\n      if (result === 'OK') {\n\n        const state = this.react.getState()\n\n        const name = !!state.newSequenceName\n          ? DOMPurify.sanitize(state.newSequenceName)\n          : this.getDefaultName()\n\n        const sequence = {\n          id: this.guid(),\n          stateIds: [],\n          name\n        }\n\n        const sequences = sortBy([\n          ...state.sequences, sequence\n        ], (s) => { return s.name })\n\n        this.react.setState({\n          sequences,\n          items: []\n        })\n\n        this.setActiveSequence (sequence)\n\n        if (this.api) {\n\n          this.api.addSequence(sequence)\n        }\n      }\n\n      this.dialogSvc.off('dialog.close', onClose)\n    }\n\n    this.dialogSvc.on('dialog.close', onClose)\n\n    this.dialogSvc.setState({\n      className: 'config-manager-dlg',\n      title: 'Add Sequence ...',\n      content:\n        <div>\n          <Input\n            onChange={(e) => this.onInputChanged(e, 'newSequenceName')}\n            onKeyDown={(e) => this.onKeyDown(e)}\n            placeholder=\"Sequence name ...\"\n            className=\"sequence-name-input\"\n          />\n        </div>,\n      open: true\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  copySequence (sequenceName) {\n\n    this.react.setState({\n      newSequenceName: sequenceName + '-copy'\n    })\n\n    const onClose = (result) => {\n\n      if (result === 'OK') {\n\n        const state = this.react.getState()\n\n        const items = state.items.map((item) => {\n\n          return Object.assign({},\n            item, {\n              id: this.guid(),\n              active: false\n            })\n        })\n\n        const stateIds = items.map((item) => {\n\n          return item.id\n        })\n\n        const sequence = Object.assign({},\n          state.sequence, {\n            name: state.newSequenceName,\n            readonly: false,\n            id: this.guid(),\n            stateIds\n        })\n\n        const sequences = sortBy([\n          ...state.sequences, sequence\n        ], (s) => { return s.name })\n\n        this.react.setState({\n          sequences,\n          sequence,\n          items\n        })\n\n        if (this.api) {\n\n          this.api.addSequence (Object.assign({},\n            sequence, {\n              stateIds: []\n            })).then(() => {\n\n            this.api.addState (sequence.id, items)\n          })\n        }\n      }\n\n      this.dialogSvc.off('dialog.close', onClose)\n    }\n\n    this.dialogSvc.on('dialog.close', onClose)\n\n    this.dialogSvc.setState({\n      className: 'config-manager-dlg',\n      title: 'Copy Sequence ...',\n      content:\n        <div>\n          <Input\n            onChange={(e) => this.onInputChanged(e, 'newSequenceName')}\n            onKeyDown={(e) => this.onKeyDown(e)}\n            placeholder=\"Sequence name ...\"\n            className=\"sequence-name-input\"\n          />\n        </div>,\n      open: true\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  deleteSequence () {\n\n    const state = this.react.getState()\n\n    const onClose = (result) => {\n\n      if (result === 'OK') {\n\n        clearTimeout(this.playTimeout)\n\n        if (this.api) {\n\n          this.api.deleteSequence(state.sequence.id)\n        }\n\n        this.emit('sequence.deleted', state.sequence)\n\n        const sequences = state.sequences.filter(\n          (sequence) => {\n            return sequence.id !== state.sequence.id\n          })\n\n        const sequence = sequences.length ?\n          sequences[0] : null\n\n        this.react.setState({\n          play: false,\n          sequences\n        })\n\n        this.setActiveSequence(sequence)\n      }\n\n      this.dialogSvc.off('dialog.close', onClose)\n    }\n\n    this.dialogSvc.on('dialog.close', onClose)\n\n    const msg = DOMPurify.sanitize(\n      `Are you sure you want to delete`\n      + ` <b>${state.sequence.name}</b> ?`)\n\n    this.dialogSvc.setState({\n      className: 'config-manager-dlg',\n      title: 'Delete Sequence ...',\n      content:\n        <div dangerouslySetInnerHTML={{__html: msg}}>\n        </div>,\n      open: true\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  getStateIds () {\n\n    const domItems = document.getElementsByClassName(\n      this.itemsClass)[0]\n\n    const stateIds =\n      Array.from(domItems.childNodes).map(\n        (childNode) => {\n\n          return childNode.dataset.id\n        })\n\n    return stateIds\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async onUpdateSequence () {\n\n    const { sequence, items } = this.react.getState()\n\n    const stateIds = this.getStateIds()\n\n    const newSequence = Object.assign({},\n      sequence, {\n        stateIds\n      })\n\n    const newItems = stateIds.map((id) => {\n\n      for (const item of items) {\n\n        if (item.id === id) {\n\n          return item\n        }\n      }\n    })\n\n    this.react.setState({\n      sequence: newSequence,\n      items: newItems\n    })\n\n    if (this.api) {\n\n      this.api.updateSequence(newSequence)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async addItem () {\n\n    const state = this.react.getState()\n\n    const name = state.newStateName.length\n      ? DOMPurify.sanitize(state.newStateName) \n      : this.getDefaultName()\n\n    const viewerState = {\n    ...this.viewer.getState(),\n      renderOptions: false,\n      id: this.guid(),\n      name\n    }\n\n    if (this.api) {\n\n      this.api.addState(\n        state.sequence.id,\n        viewerState)\n    }\n\n    await this.react.setState({\n      items: [...state.items, viewerState],\n      newStateName: '',\n      play: false\n    })\n\n    this.restoreStates[viewerState.id] =\n      viewerState\n\n    this.onRestoreState(viewerState, true)\n\n    clearTimeout(this.playTimeout)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  onRestoreState (\n    viewerState, immediate = this.options.restoreImmediate) {\n\n    //this.viewer.getState (viewerState)\n\n    const filteredState = this.filterState(\n      viewerState,\n      'objectSet',\n      'explodeScale')\n\n    this.viewer.restoreState(\n      filteredState,\n      this.restoreFilter,\n      immediate)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  deleteItem (id) {\n\n    const state = this.react.getState()\n\n    this.react.setState({\n      items: state.items.filter((item) => {\n        return item.id !== id\n      }),\n      play: false\n    })\n\n    this.emit('state.deleted', id)\n\n    delete this.restoreStates[id]\n\n    if (this.api) {\n\n      this.api.deleteState(state.sequence.id, id)\n    }\n\n    clearTimeout(this.playTimeout)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onKeyDown (e) {\n    if (e.keyCode === 13) {\n      e.stopPropagation()\n      e.preventDefault()\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  onInputChanged (e, key) {\n\n    const state = this.react.getState()\n\n    state[key] = e.target.value\n\n    this.react.setState(state)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Filter a state selections\n  //\n  /////////////////////////////////////////////////////////\n  filterState (srcState, setNames, elementNames) {\n\n    const state = JSON.parse(JSON.stringify(srcState))\n\n    const sets = Array.isArray(setNames)\n      ? setNames : [setNames]\n\n    const elements = Array.isArray(elementNames)\n      ? elementNames : [elementNames]\n\n    sets.forEach((setName) => {\n\n      if (state[setName]) {\n\n        elements.forEach((elementName) => {\n\n          state[setName].forEach((element) => {\n\n            delete element[elementName]\n          })\n        })\n      }\n    })\n\n    return state\n  }\n\n  /////////////////////////////////////////////////////////\n  // A fix for viewer.restoreState\n  // that also restores pivotPoint\n  //\n  /////////////////////////////////////////////////////////\n  restoreStateWithPivot(state, filter=null, immediate=false) {\n\n    const viewer = this.viewer\n\n    function onStateRestored() {\n\n      viewer.removeEventListener(\n        Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\n        onStateRestored);\n\n      const pivot = state.viewport.pivotPoint;\n\n      setTimeout(function () {\n\n        viewer.navigation.setPivotPoint(\n          new THREE.Vector3(\n            pivot[0], pivot[1], pivot[2]))\n      }, 1250)\n    }\n\n    viewer.addEventListener(\n      Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,\n      onStateRestored)\n\n    viewer.restoreState(state, filter, immediate)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  activateDrag () {\n    \n    const domItems =\n      document.getElementsByClassName(\n        this.itemsClass)[0]\n\n    if (this.drake) {\n\n      this.drake.destroy()\n    }\n\n    this.drake = Dragula([domItems])\n\n    this.drake.on('drop', () => {\n\n      this.onUpdateSequence()\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setActiveSequence (sequence) { \n\n    clearTimeout(this.playTimeout)\n\n    this.restoreStates = {}\n\n    this.playTimeout = null\n\n    this.sequenceIdx = 0\n\n    await this.react.setState({\n      play: false,\n      items: [],\n      sequence\n    })\n\n    if (this.drake) {\n\n      this.drake.destroy()\n      this.drake = null\n    }\n\n    if (sequence) {\n\n      if (!sequence.readonly) {\n\n        this.activateDrag()\n      }\n\n      if (this.api) {\n\n        const states =\n          await this.api.getStates(\n            sequence.id)\n\n        states.forEach((state) => {\n          this.restoreStates[state.id] = state\n        })\n\n        await this.react.setState({\n          items: states\n        })\n      }\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  playSequence () {\n\n    // sequence is playing -> stopping it\n    if (this.playTimeout) {\n\n      clearTimeout(this.playTimeout)\n\n      this.playTimeout = null\n\n      this.sequenceIdx = 0\n\n      this.react.setState({\n        play: false\n      })\n\n      return\n    }\n\n    const stateIds = this.getStateIds()\n\n    const step = (stateId) => {\n\n      const state = this.react.getState()\n\n      this.onRestoreState(this.restoreStates[stateId])\n\n      this.react.setState({\n        play: true,\n        items: state.items.map((item) => {\n          if (item.active) {\n            item.active = false\n            this.emit('state.toggled', item)\n          }\n          if (item.id === stateId) {\n            item.active = true\n            this.emit('state.toggled', item)\n          }\n          return item\n        })\n      })\n\n      if ((++this.sequenceIdx) == stateIds.length) {\n\n        const { loop } = this.react.getState()\n\n        if (!loop) {\n\n          this.react.setState({\n            play: false\n          })\n\n          this.playTimeout = null\n\n          return\n        }\n\n        this.sequenceIdx = 0\n      }\n\n      setTimeout(() => {\n        const {items} = this.react.getState()\n        this.react.setState({\n          items: items.map((item) => {\n            item.active = false\n            return item\n          })\n        })\n      }, this.playPeriod * 0.8)\n\n      return setTimeout(() => {\n\n        this.playTimeout = step(stateIds[this.sequenceIdx])\n\n      }, this.playPeriod)\n    }\n\n    if (stateIds.length > 0) {\n\n      this.playTimeout = step (stateIds[this.sequenceIdx])\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  async setDocking (docked) {\n\n    const id = ConfigManagerExtension.ExtensionId\n\n    const {sequence} = this.react.getState()\n\n    if (docked) {\n\n      await this.react.popRenderExtension(this)\n\n      const panel = await this.react.pushViewerPanel(this, {\n          height: 250,\n          width: 300\n        })\n\n      panel.on('update', () => {\n        if (sequence && !sequence.readonly) {\n          this.activateDrag ()\n        }\n        panel.off()\n      })\n\n    } else {\n\n      await this.react.popViewerPanel(id)\n\n      await this.react.pushRenderExtension(this)\n\n      this.setActiveSequence (sequence)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  closePanel = () => {\n\n    this.configManagerCmd.deactivate()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n    return (\n      <div className=\"title\">\n        <label>\n          Configurations Manager\n        </label>\n        {\n          this.options.readonly && \n          !this.options.docked &&\n          <div className=\"controls\">\n            <button onClick={this.closePanel}\n              title=\"Close\">\n              <span className=\"fa fa-times\"/>\n            </button>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderControls () {\n\n    const state = this.react.getState()\n\n    const sequences = state.sequences || []\n\n    const sequenceItems = sequences.map((sequence) => {\n\n      const id = sequence.id\n\n      return (\n        <MenuItem eventKey={id} key={id} onClick={() => {\n          this.setActiveSequence(sequence)\n        }}>\n          { sequence.name }\n        </MenuItem>\n      )\n    })\n\n    const sequence = state.sequence\n\n    const sequenceName = sequence \n      ? sequence.name \n      : ''\n\n    const stateCreationDisabled =\n      !sequence ||\n      sequence.readonly ||\n      !state.stateCreation\n\n    const ctrlClass = this.options.readonly\n      ? 'controls readonly'\n      : 'controls'\n\n    return (\n      <div className={ctrlClass}>\n\n        <div className=\"row\">\n\n          <DropdownButton\n            title={\"Sequence: \" +  sequenceName}\n            className=\"sequence-dropdown\"\n            disabled={!sequence}\n            key=\"sequence-dropdown\"\n            id=\"sequence-dropdown\">\n           { sequenceItems }\n          </DropdownButton>\n\n          {\n            !this.options.readonly &&  \n            <button onClick={() => this.addSequence()}\n              title=\"Add sequence\">\n              <span className=\"fa fa-plus\"/>\n            </button>\n          }\n          {\n            !this.options.readonly &&\n            <button onClick={() => {\n                this.copySequence(sequence.name)}\n              }\n              disabled={!sequence}\n              title=\"Copy sequence\">\n              <span className=\"fa fa-copy\"/>\n            </button>\n          }\n          {\n            !this.options.readonly &&\n            <button onClick={() => this.deleteSequence()}\n              disabled={!sequence || sequence.readonly}\n              title=\"Delete sequence\">\n              <span className=\"fa fa-times\"/>\n            </button>\n          }\n        </div>\n        {\n          !this.options.readonly &&      \n          <div className=\"row\">\n            {\n              stateCreationDisabled &&\n              <Input\n                onChange={(e) => this.onInputChanged(e, 'newStateName')}\n                placeholder={state.emptyStateNameCaption}\n                onKeyDown={(e) => this.onKeyDown(e)}\n                className=\"state-name-input\"\n                value={state.newStateName}\n                disabled={true}\n              />\n            }\n            {\n              !stateCreationDisabled &&\n              <Input\n                onChange={(e) => this.onInputChanged(e, 'newStateName')}\n                placeholder={state.emptyStateNameCaption}\n                onKeyDown={(e) => this.onKeyDown(e)}\n                className=\"state-name-input\"\n                value={state.newStateName}\n              />\n            }\n\n            <button disabled={stateCreationDisabled}\n              onClick={this.addItem}\n              title=\"Save state\">\n              <span className=\"fa fa-database\"/>\n            </button>\n\n            <button\n              title={state.play ? \"Pause sequence\" : \"Play sequence\"}\n              onClick={() => this.playSequence()}\n              disabled={!sequence}>\n              <span className={\"fa fa-\" + (state.play ? \"pause\" : \"play\")}/>\n            </button>\n\n            <Switch isChecked={true} className=\"loop\" title={\"Loop sequence\"}\n              onChange={(loop) => {\n                this.react.setState({\n                  loop\n                })\n              }}/>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toggleItem (selectedItem) {\n\n    const state = this.react.getState()\n\n    const items = state.items.map((item) => {\n\n      if (item.id === selectedItem.id) {\n\n        item.active = !item.active\n\n        if (item.active) {\n\n          this.onRestoreState(selectedItem)\n        }\n      }\n\n      return item\n    })\n\n    this.emit('state.toggled', selectedItem)\n\n    this.react.setState({\n      items\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderItems () {\n\n    const state = this.react.getState()\n\n    const readonly = state.sequence \n      ? state.sequence.readonly\n      : true \n\n    const items = state.items.map((item) => {\n\n      const text = DOMPurify.sanitize(item.name)\n\n      const className = \"item\" +\n        (state.stateSelection ? ' selectable' : '') +\n        (this.itemToggling ? ' toggable' : '') +\n        (item.active ? ' active' :'')\n\n      return (\n        <div data-id={item.id} data-name={text}\n          className={className}\n          key={item.id}\n          onClick={() => {\n            if(state.stateSelection) {\n              if (this.itemToggling) {\n                this.toggleItem(item)\n              } else {\n                this.onRestoreState (item)\n              }\n            }\n          }}>\n\n          <Label text={text}/>\n\n          {\n            !readonly &&\n            <button onClick={(e) => {\n                this.deleteItem(item.id)\n                e.stopPropagation()\n                e.preventDefault()\n            }}\n              title=\"Delete state\">\n              <span className=\"fa fa-times\"/>\n            </button>\n          }\n\n        </div>\n      )\n    })\n\n    return (\n      <div className={`items ${this.itemsClass}`}>\n        { items }\n      </div>\n    )\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render (opts) {\n\n    const state = this.react.getState()\n\n    return (\n      <WidgetContainer\n        renderTitle={() => this.renderTitle(opts.docked)}\n        showTitle={opts.showTitle}\n        className={this.className}>\n        {\n            state.disabled &&\n            <div className=\"disabled-overlay\"/>\n        }\n        { this.renderControls() }\n        { this.renderItems() }\n\n      </WidgetContainer>\n    )\n  }\n}\n\nAutodesk.Viewing.theExtensionManager.registerExtension(\n  ConfigManagerExtension.ExtensionId,\n  ConfigManagerExtension)\n","import './Viewing.Extension.ConfigManager'\n\nexport default 'Viewing.Extension.ConfigManager'\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class MultiModelExtensionBase extends\n  EventsEmitter.Composer (Autodesk.Viewing.Extension) {\n\n  /////////////////////////////////////////////////////////\n  // Class constructor\n  //\n  /////////////////////////////////////////////////////////\n  constructor (viewer, options = {}, defaultOptions = {}) {\n\n    super (viewer)\n\n    // bindings\n\n    this.onModelCompletedLoad = this.onModelCompletedLoad.bind(this)\n    this.onObjectTreeCreated  = this.onObjectTreeCreated.bind(this)\n    this.onModelRootLoaded    = this.onModelRootLoaded.bind(this)\n    this.onExtensionLoaded    = this.onExtensionLoaded.bind(this)\n    this.onModelActivated     = this.onModelActivated.bind(this)\n    this.onGeometryLoaded     = this.onGeometryLoaded.bind(this)\n    this.onToolbarCreated     = this.onToolbarCreated.bind(this)\n    this.onModelBeginLoad     = this.onModelBeginLoad.bind(this)\n    this.onModelUnloaded      = this.onModelUnloaded.bind(this)\n    this.onSelection          = this.onSelection.bind(this)\n\n    this.__onLoadNodeProperties = this.__onLoadNodeProperties.bind(this)\n    this.__onModelRootLoaded    = this.__onModelRootLoaded.bind(this)\n    this.__onModelActivated     = this.__onModelActivated.bind(this)\n    this.__onModelUnloaded      = this.__onModelUnloaded.bind(this)\n    this.__onModelLoaded        = this.__onModelLoaded.bind(this)\n\n    this.models = viewer.impl.modelQueue().getModels()\n\n    this.defaultOptions = defaultOptions\n\n    this.options = {\n      ...defaultOptions,\n      ...options\n    }\n\n    this.react = this.options.react\n\n    this.viewer = viewer\n\n    this.initializeEvents()\n  }\n\n  /////////////////////////////////////////////////////////\n  // Extension Id\n  //\n  /////////////////////////////////////////////////////////\n  static get ExtensionId() {\n\n    return 'Viewing.Extension.MultiModelExtensionBase'\n  }\n\n  /////////////////////////////////////////////////////////\n  // Load callback\n  //\n  /////////////////////////////////////////////////////////\n  load () { \n\n    if (this.options.contextMenu && this.onContextMenu) {\n      this.options.contextMenu.addHandler(\n        this.onContextMenu)\n    } \n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Unload callback\n  //\n  /////////////////////////////////////////////////////////\n  unload () {\n\n    if (this.options.contextMenu && this.onContextMenu) {\n      this.options.contextMenu.removeHandler(\n        this.onContextMenu)\n    }\n\n    this.viewerEvents.forEach((event) => {\n      this.viewer.removeEventListener(\n        event.id, this[event.handler])\n    })\n\n    if (this.eventSink) {\n\n      this.eventSink.off(\n        'MetaProperties:loadNodeProperties',\n        this.__onLoadNodeProperties)\n\n      this.eventSink.off('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.off('model.unloaded',\n        this.__onModelUnloaded)\n\n      this.eventSink.off('model.loaded',\n        this.__onModelLoaded)\n    }\n\n    this.off()\n\n    return true\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when extension gets loaded\n  //\n  /////////////////////////////////////////////////////////\n  onExtensionLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onExtensionLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when the model starts to load\n  // The geometry and instanceTree may not be available\n  // at this time\n  //\n  /////////////////////////////////////////////////////////\n  onModelBeginLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelBeginLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model is\n  // selected in a multi-model environment\n  //\n  /////////////////////////////////////////////////////////\n  onModelActivated (event) {\n\n    //console.log('MultiModelExtensionBase.onModelActivated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when model root node has been loaded\n  // Extensions that do require access to full\n  // model geometry or component tree may use that\n  // event to know a new model has been loaded\n  //\n  /////////////////////////////////////////////////////////\n  __onModelRootLoaded (event) {\n\n    this.viewerEvent([\n\n      Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n      Autodesk.Viewing.GEOMETRY_LOADED_EVENT\n\n    ]).then((args) => {\n\n      this.onModelCompletedLoad (args[0])\n    })\n  }\n\n  onModelRootLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelRootLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when object tree is fully loaded.\n  // Extensions that are interested in using the\n  // instanceTree need to use that event to make sure\n  // it is available\n  //\n  ////////////////////////////////////////////////////////\n  onObjectTreeCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onObjectTreeCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when geometry is fully loaded\n  //\n  /////////////////////////////////////////////////////////\n  onGeometryLoaded (event) {\n\n    //console.log('MultiModelExtensionBase.onGeometryLoaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked after onObjectTreeCreated and onGeometryLoaded\n  // have both been fired\n  //\n  /////////////////////////////////////////////////////////\n  onModelCompletedLoad (event) {\n\n    //console.log('MultiModelExtensionBase.onModelCompletedLoad')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked once the viewer toolbar has been created\n  //\n  /////////////////////////////////////////////////////////\n  onToolbarCreated (event) {\n\n    //console.log('MultiModelExtensionBase.onToolbarCreated')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Triggered by ModelLoader extension when a model has\n  // been unloaded as per user request\n  //\n  /////////////////////////////////////////////////////////\n  onModelUnloaded (event) {\n\n    //console.log('MultiModelExtensionBase.onModelUnloaded')\n  }\n\n  /////////////////////////////////////////////////////////\n  // Invoked when a model is being selected\n  //\n  /////////////////////////////////////////////////////////\n  onSelection (event) {\n\n    //console.log('MultiModelExtensionBase.onSelection')\n  }\n\n  /////////////////////////////////////////////////////////\n  //Sink Events\n  //\n  /////////////////////////////////////////////////////////\n  __onLoadNodeProperties ({dbId, properties}) {\n    \n    if (this.onLoadNodeProperties) {\n      return this.onLoadNodeProperties(dbId, properties)\n    }\n  }\n\n  __onModelLoaded (event) {\n\n    this.models = [...this.models, event.model]\n\n    this.onModelBeginLoad (event)\n  }\n\n  __onModelActivated (event) {\n\n    this.onModelActivated (event)\n  }\n\n  __onModelUnloaded (event) {\n\n    this.models = this.models.filter((model) => {\n\n      return model.guid !== event.model.guid\n    })\n\n    this.onModelUnloaded(event)\n  }\n\n  /////////////////////////////////////////////////////////\n  // Initialize all events for the extension\n  // Each event will invoke a predefined handler\n  // implemented or not by the derived extension\n  //\n  /////////////////////////////////////////////////////////\n  initializeEvents () {\n\n    if (this.options.eventSink) {\n\n      this.eventSink = this.options.eventSink\n\n      this.eventSink.on(\n        'MetaProperties:loadNodeProperties',\n        this.__onLoadNodeProperties)\n\n      this.eventSink.on('model.loaded',\n        this.__onModelLoaded)\n\n      this.eventSink.on('model.activated',\n        this.__onModelActivated)\n\n      this.eventSink.on('model.unloaded',\n        this.__onModelUnloaded)\n    }\n\n    this.viewerEvents = [\n      {\n        id: Autodesk.Viewing.EXTENSION_LOADED_EVENT,\n        handler: 'onExtensionLoaded'\n      },\n      {\n        id: Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,\n        handler: 'onObjectTreeCreated'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: '__onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,\n        handler: 'onModelRootLoaded'\n      },\n      {\n        id: Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n        handler: 'onGeometryLoaded'\n      },\n      {\n        id: Autodesk.Viewing.TOOLBAR_CREATED_EVENT,\n        handler: 'onToolbarCreated'\n      }\n    ]\n\n    if (!this.options.controlledSelection) {\n      this.viewerEvents.push({\n        id: Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,\n        handler: 'onSelection'\n      })\n    }\n   \n    this.viewerEvents.forEach((event) => {\n      this.viewerEvent(event.id, this[event.handler])\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  // Async viewer event\n  //\n  /////////////////////////////////////////////////////////\n  viewerEvent (eventId, handler) {\n\n    if (handler) {\n\n      this.viewer.addEventListener (eventId, handler)\n      return\n    }\n\n    const eventIdArray = Array.isArray(eventId)\n      ? eventId : [eventId]\n\n    const eventTasks = eventIdArray.map((id) => {\n      return new Promise ((resolve) => {\n        const __handler = (args) => {\n          this.viewer.removeEventListener (id, __handler)\n          resolve (args)\n        }\n        this.viewer.addEventListener (id, __handler)\n      })\n    })\n\n    return Promise.all (eventTasks)\n  }\n\n  /////////////////////////////////////////////////////////\n  // \n  //\n  /////////////////////////////////////////////////////////\n  emit (eventId, args) {\n    return this.options.eventSink\n      ? this.options.eventSink.emit(eventId, args)\n      : super.emit(eventId, args)\n  }\n\n  emitAcc (eventId, args) {\n    return this.options.eventSink\n      ? this.options.eventSink.emitAcc(eventId, args)\n      : super.emitAcc(eventId, args)\n  }\n}\n","import MultiModelExtensionBase from './Viewer.MultiModelExtensionBase'\n\nexport default MultiModelExtensionBase\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./WidgetContainer.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".widget-container {\\n  position: relative;\\n  height: 100%;\\n  width: 100%; }\\n\\n.widget-container > .title {\\n  border-bottom: 1px solid #cdcdcd;\\n  background-color: #f5f5f5;\\n  padding-right: 10px;\\n  color: black;\\n  position: relative;\\n  overflow: hidden;\\n  text-align: left;\\n  height: 40px;\\n  width: 100%; }\\n\\n.widget-container > .title > label {\\n  white-space: nowrap;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px; }\\n\\n.widget-container > .content {\\n  position: relative;\\n  overflow: hidden;\\n  height: 100%;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n","import PropTypes from 'prop-types'\nimport './WidgetContainer.scss'\nimport React from 'react'\n\nclass WidgetContainer extends React.PureComponent {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    showTitle: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    showTitle: true,\n    className: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  renderTitle () {\n\n    if (!this.props.showTitle) {\n\n      return <div/>\n    }\n\n    if (this.props.renderTitle) {\n\n      return this.props.renderTitle()\n    }\n\n    return (\n      <div className=\"title\">\n        <label>\n          { this.props.title }\n        </label>\n      </div>\n    )\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  renderChildren() {\n\n    if (this.props.dimensions) {\n\n      return React.Children.map(this.props.children, (child) => {\n\n        const newProps = Object.assign({},\n          child.props, {\n            dimensions: this.props.dimensions\n          })\n\n        return React.cloneElement(child, newProps)\n      })\n    }\n\n    return this.props.children\n  }\n\n  ///////////////////////////////////////////////////////////////////\n  //\n  //\n  ///////////////////////////////////////////////////////////////////\n  render() {\n\n    const classNames = [\n      'widget-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const height = this.props.showTitle\n      ? 'calc(100% - 40px)'\n      : '100%'\n\n    return (\n      <div className={classNames.join(' ')} style={this.props.style}>\n         { this.renderTitle() }\n        <div className=\"content\" style={{height}}>\n          {this.renderChildren()}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default WidgetContainer\n","import WidgetContainer from './WidgetContainer'\n\nexport default WidgetContainer\n","import EventsEmitter from 'EventsEmitter'\n\nexport default class CommandTool extends EventsEmitter {\n\n  constructor (viewer, options = {}) {\n\n    super ()\n\n    this.toolName = options.commandId\n\n    viewer.toolController.registerTool(this)\n\n    this.options = options\n\n    this.viewer = viewer\n  }\n\n  /////////////////////////////////////////////////////////////////\n  // Tool names\n  //\n  /////////////////////////////////////////////////////////////////\n  getNames () {\n\n    return [this.toolName]\n  }\n\n  /////////////////////////////////////////////////////////////////\n  // Tool name\n  //\n  /////////////////////////////////////////////////////////////////\n  getName () {\n\n    return this.toolName\n  }\n\n  /////////////////////////////////////////////////////////////////\n  // Activate Tool\n  //\n  /////////////////////////////////////////////////////////////////\n  activate () {\n\n    if (!this.active) {\n\n      this.active = true\n\n      this.viewer.toolController.activateTool(\n        this.toolName)\n\n      this.emit('activate', this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////////////\n  // Deactivate tool\n  //\n  /////////////////////////////////////////////////////////////////\n  deactivate () {\n\n    if (this.active) {\n\n      this.active = false\n\n      this.viewer.toolController.deactivateTool(\n        this.toolName)\n\n      this.emit('deactivate', this)\n    }\n  }\n\n  /////////////////////////////////////////////////////////////////\n  // \n  //\n  /////////////////////////////////////////////////////////////////\n  unregister () {\n\n    this.deactivate ()\n\n    this.off()\n\n    this.viewer.toolController.deregisterTool(this)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleSingleClick (event, button) {\n\n    return this.emit('singleclick', event, button)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleMouseMove (event) {\n\n    return this.emit('mousemove', event)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleKeyDown (event, keyCode) {\n\n    return this.emit('keydown', event, keyCode)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleKeyUp (event, keyCode) {\n\n    return this.emit('keyup', event, keyCode)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleButtonDown (event, keyCode) {\n\n    return this.emit('buttondown', event, keyCode)\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  handleButtonUp (event, keyCode) {\n\n    return this.emit('buttonup', event, keyCode)\n  }\n}\n","import CommandTool from './Viewer.Command.Tool'\nimport EventsEmitter from 'EventsEmitter'\n\nexport default class ViewerCommand extends EventsEmitter {\n\n  constructor (viewer, options = {}) {\n\n    super ()\n\n    this.commandTool = new CommandTool(viewer, options)\n\n    this.commandTool.on('activate', (tool) => {\n\n      this.emit('command.activate', this)\n    })\n\n    this.commandTool.on('deactivate', (tool) => {\n\n      this.emit('command.deactivate', this)\n    })\n\n    this.commandId = options.commandId\n\n    this.options = options\n\n    this.viewer = viewer\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  get active () {\n\n    return this.commandTool.active \n  }\n  \n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  activate () {\n\n    if (!this.commandTool.active) {\n\n      this.commandTool.activate()\n\n      this.onActivate()\n    }\n  }\n\n  onActivate () {\n\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  deactivate () {\n\n    if (this.commandTool.active) {\n\n      this.commandTool.deactivate()\n\n      this.onDeactivate()\n    }\n  }\n\n  onDeactivate () {\n    \n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  terminate () {\n\n    if (this.control) {\n      this.options.parentControl.removeControl(\n        this.control)\n    }\n\n    this.commandTool.unregister()\n     \n    this.off()\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  toggle () {\n\n    this.active\n    ? this.deactivate()\n    : this.activate()\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  createButton(id, className, tooltip, handler) {\n\n    const button = new Autodesk.Viewing.UI.Button(id)\n\n    button.icon.style.fontSize = '24px'\n\n    button.icon.className = className\n\n    button.setToolTip(tooltip)\n\n    button.onClick = handler\n\n    return button\n  }\n\n  /////////////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////////////\n  createButtonControl (options) {\n\n    const control = this.createButton(\n      options.id,\n      options.icon,\n      options.caption,\n      options.handler)\n\n    var parentControl = options.parentControl\n\n    if (!parentControl) {\n\n      const viewerToolbar = this.viewer.getToolbar(true)\n\n      parentControl = new Autodesk.Viewing.UI.ControlGroup(\n        options.id)\n\n      viewerToolbar.addControl(parentControl)\n    }\n\n    parentControl.addControl(control)\n\n    return control\n  }\n}\n","import ViewerCommand from './Viewer.Command'\n\nexport default ViewerCommand\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Label.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Label.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".label-container {\\n  position: relative;\\n  overflow: hidden;\\n  font-size: 100%;\\n  color: #343434;\\n  height: 100%;\\n  float: left; }\\n\", \"\"]);\n\n// exports\n","import PropTypes from 'prop-types'\nimport DOMPurify from 'dompurify'\nimport React from 'react'\nimport './Label.scss'\n\nexport default class Label extends React.PureComponent {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    textAlign: PropTypes.string,\n    className: PropTypes.string,\n    text: PropTypes.string\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    textAlign: 'left',\n    className: '',\n    text: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor (props) {\n\n    super (props)\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'label-container',\n      ...this.props.className.split(' ')\n    ]\n\n    const style = {\n      width: this.props.textAlign === 'center'\n        ? '100%' : '',\n      textAlign: this.props.textAlign\n    }\n\n    return(\n      <div className={classNames.join(' ')}\n        style={style}>\n        <p>\n          { DOMPurify.sanitize(this.props.text) }\n        </p>\n      </div>\n    )\n  }\n}\n","import Label from './Label'\n\nexport default Label\n","import PropTypes from 'prop-types'\nimport React from 'react'\n\nexport default class Switch extends React.Component {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static propTypes = {\n    className: PropTypes.string,\n    checked: PropTypes.bool\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    checked: true,\n    className: '',\n    style: {},\n    title: ''\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  constructor () {\n\n    super ()\n\n    this.state = {\n      checked: true\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  componentWillMount () {\n\n    this.setState({\n      checked: this.props.checked\n    })\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  toggle = () => {\n\n    if (this.props.disabled) {\n      return\n    }\n\n    const checked = !this.state.checked\n\n    this.setState({\n      checked\n    })\n\n    if (this.props.onChange) {\n\n      this.props.onChange (checked)\n    }\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render () {\n\n    const classNames = [\n      'switch-container',\n      this.props.disabled ? 'disabled' : '',\n      ...this.props.className.split(' ')\n    ]\n\n    return(\n      <div className={classNames.join(' ')} \n        title={this.props.title}\n        style={this.props.style}\n        onClick={this.toggle}>\n        <input ref=\"switch\" className=\"switch\"\n          checked={this.state.checked}\n          value={this.state.checked}\n          \n          onChange={()=> {}}\n          type=\"checkbox\"\n        />\n        <div>\n          <span>\n            <p className=\"icon icon-toolbar grid-view\"/>\n          </span>\n          <span>\n            <p className=\"icon icon-toolbar ticket-view\"/>\n          </span>\n          <div/>\n        </div>\n      </div>\n    )\n  }\n}\n","import Switch from './Switch'\nimport './Switch.scss'\n\nexport default Switch\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Switch.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".switch-container {\\n  position: relative; }\\n\\n.switch-container *:hover {\\n  cursor: pointer; }\\n\\n.switch-container.disabled *:hover {\\n  cursor: not-allowed; }\\n\\ninput[type=\\\"checkbox\\\"].switch {\\n  pointer-events: none;\\n  position: absolute;\\n  cursor: pointer;\\n  opacity: 0; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  vertical-align: middle;\\n  width: 40px;\\n  height: 20px;\\n  border-radius: 999px;\\n  background-color: #9d9d9d;\\n  transition-duration: .4s;\\n  transition-property: background-color, box-shadow;\\n  cursor: pointer; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span {\\n  position: absolute;\\n  font-size: 1.6rem;\\n  color: #f5f5f5;\\n  margin-top: 12px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(1) {\\n  margin-left: 15px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div span:nth-child(2) {\\n  margin-left: 55px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div {\\n  background-position: 0 0;\\n  background-color: #0089c7; }\\n\\n.switch-container.disabled input[type=\\\"checkbox\\\"].switch + div {\\n  background-color: rgba(157, 157, 157, 0.5); }\\n\\ninput[type=\\\"checkbox\\\"].switch + div {\\n  height: 26px;\\n  width: 60px; }\\n\\ninput[type=\\\"checkbox\\\"].switch + div > div {\\n  float: left;\\n  width: 24px;\\n  height: 24px;\\n  border-radius: inherit;\\n  background: #f5f5f5;\\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\\n  transition-duration: 0.4s;\\n  transition-property: background-color, -webkit-transform;\\n  transition-property: transform, background-color;\\n  transition-property: transform, background-color, -webkit-transform;\\n  pointer-events: none;\\n  margin-top: 1px;\\n  margin-left: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(20px, 0, 0);\\n  transform: translate3d(20px, 0, 0);\\n  background-color: #f5f5f5; }\\n\\ninput[type=\\\"checkbox\\\"].bigswitch.switch + div > div {\\n  width: 44px;\\n  height: 44px;\\n  margin-top: 1px; }\\n\\ninput[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(34px, 0, 0);\\n  transform: translate3d(34px, 0, 0); }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Input.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Input.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--7-1!../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../node_modules/sass-loader/lib/loader.js!./Input.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".input {\\n  background: #e0e0e0;\\n  margin-bottom: 6px;\\n  height: 32px; }\\n  .input input {\\n    -webkit-user-select: auto !important;\\n       -moz-user-select: auto !important;\\n        -ms-user-select: auto !important;\\n            user-select: auto !important;\\n    background: transparent;\\n    padding: 0 0 0 4px;\\n    outline: none;\\n    border: none;\\n    height: 100%;\\n    width: 100%; }\\n  .input input[disabled] {\\n    background: #f7f6f6;\\n    color: #949494; }\\n  .input input:focus {\\n    outline: none; }\\n\", \"\"]);\n\n// exports\n","import React, {PureComponent} from 'react'\nimport './Input.scss'\n\nexport default class Input extends PureComponent {\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  static defaultProps = {\n    onKeyDown: (e) => {},\n    onChange: (e) => {},\n    placeholder: '',\n    className: '',\n    name: 'input',\n    valueInit: '',\n    type: 'text',\n    tabIndex: 1\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  focus() {\n    this.input.focus()\n  }\n\n  /////////////////////////////////////////////////////////\n  //\n  //\n  /////////////////////////////////////////////////////////\n  render() {\n\n    const className = [\n      ...this.props.className.split(' '),\n      'input'\n    ].join(' ')\n\n    return (\n      <div className={className}>\n        <input     \n          onChange={e => this.props.onChange(e)}\n          placeholder={this.props.placeholder} \n          onKeyDown={this.props.onKeyDown}\n          tabIndex={this.props.tabIndex}\n          disabled={this.props.disabled}\n          ref={el => {this.input = el}}\n          value={this.props.value}\n          type={this.props.type} \n          name={this.props.name} \n          autoComplete='false'\n        />\n        <label htmlFor={this.props.name}/>\n      </div>\n    )\n  }\n}","import Input from './Input'\n\nexport default Input\n","\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ConfigManager.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ConfigManager.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--7-1!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-2!../../../../../../node_modules/sass-loader/lib/loader.js!./Viewing.Extension.ConfigManager.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".config-manager .title {\\n  display: inline-flex;\\n  float: left; }\\n\\n.config-manager .title > label {\\n  white-space: nowrap;\\n  font-weight: normal;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  user-select: none;\\n  margin-left: 27px;\\n  margin-top: 10px;\\n  width: 144px;\\n  float: left; }\\n\\n.config-manager .content > .controls {\\n  margin: 6px 6px 0px 5px;\\n  display: block;\\n  white-space: nowrap;\\n  height: 54px;\\n  width: 100%; }\\n  .config-manager .content > .controls .dropdown {\\n    width: calc(100% - 114px);\\n    margin-bottom: 5px;\\n    float: left; }\\n  .config-manager .content > .controls.readonly {\\n    height: 24px; }\\n    .config-manager .content > .controls.readonly .dropdown {\\n      width: calc(100% - 12px); }\\n\\n.config-manager .content > .controls > .row {\\n  display: flex;\\n  width: 100%;\\n  margin: 0; }\\n\\n.config-manager .content > .controls .dropdown > button {\\n  padding: 0 10px 0 10px;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%;\\n  margin: 0; }\\n\\n.config-manager .content > .controls button {\\n  justify-content: center;\\n  align-items: center;\\n  display: flex;\\n  background: #ededed;\\n  border-radius: 4px;\\n  margin-left: 4px;\\n  outline: none;\\n  height: 26px;\\n  width: 30px;\\n  float: left;\\n  padding: 0; }\\n\\n.config-manager .content > .controls button > span {\\n  margin: auto auto auto 0px;\\n  position: relative;\\n  font-size: 16px;\\n  padding: 0px;\\n  height: 100%;\\n  width: 100%;\\n  top: -1px; }\\n\\n.config-manager .content > .controls button > span.caret {\\n  margin: auto 0 auto auto;\\n  width: 0px; }\\n\\n.config-manager .content > .controls label {\\n  margin: 4px 10px 0 10px;\\n  font-weight: normal;\\n  float: left; }\\n\\n.config-manager .content > .controls .state-name-input {\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 148px);\\n  background: #ededed;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  text-align: left;\\n  overflow: hidden;\\n  height: 26px;\\n  float: left; }\\n\\n.config-manager .switch-container {\\n  margin-left: 6px;\\n  float: left; }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch:checked + div > div {\\n  -webkit-transform: translate3d(38px, 0, 0);\\n          transform: translate3d(38px, 0, 0); }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch + div {\\n  border: 1px solid #aeaeae;\\n  margin-top: 2px;\\n  height: 22px;\\n  width: 60px; }\\n\\n.config-manager input[type=\\\"checkbox\\\"].switch + div > div {\\n  height: 20px;\\n  width: 20px;\\n  margin: 0; }\\n\\n.config-manager .disabled-overlay {\\n  background: rgba(255, 255, 255, 0.75);\\n  cursor: not-allowed;\\n  position: absolute;\\n  height: 100%;\\n  width: 100%;\\n  z-index: 10; }\\n\\n.config-manager .items {\\n  height: calc(100% - 74px);\\n  margin: 8px 6px 0px 0px;\\n  overflow-y: auto; }\\n\\n.config-manager .items > .item.selectable {\\n  cursor: pointer; }\\n\\n.config-manager .items > .item,\\n.gu-mirror.item {\\n  transition-property: border, background;\\n  transition-timing-function: ease;\\n  transition-duration: 1.0s;\\n  transition-delay: 0.0s;\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 6px);\\n  background: #ededed;\\n  white-space: nowrap;\\n  cursor: not-allowed;\\n  border-radius: 4px;\\n  overflow: hidden;\\n  height: 26px;\\n  padding: 2px;\\n  margin: 5px; }\\n\\n.config-manager .items > .item:first-child {\\n  margin-top: 0px; }\\n\\n.config-manager .items > .item.selectable:hover {\\n  background: rgba(255, 165, 0, 0.3);\\n  border: 1px solid orange; }\\n\\n.config-manager .items > .item.active:hover,\\n.config-manager .items > .item.active {\\n  background: rgba(255, 165, 0, 0.3);\\n  border: 1px solid orange; }\\n\\n.config-manager .items > .item > div,\\n.gu-mirror.item > div {\\n  width: calc(100% - 50px);\\n  pointer-events: none;\\n  position: relative;\\n  margin: 0 0 0 12px;\\n  float: left; }\\n\\n.config-manager .items > .item > div > .label,\\n.gu-mirror.item > div > .label {\\n  font-weight: normal;\\n  font-size: small;\\n  color: black;\\n  width: 100%; }\\n\\n.config-manager .items > .item > button,\\n.gu-mirror.item > button {\\n  border-radius: 4px;\\n  position: relative;\\n  outline: none;\\n  float: right;\\n  height: 20px;\\n  width: 26px;\\n  right: 1px; }\\n\\n.config-manager .items > .item > button > span,\\n.gu-mirror.item > button > span {\\n  position: relative;\\n  font-size: 20px;\\n  top: -2px; }\\n\\n.config-manager-dlg {\\n  left: calc(50% - 150px) !important;\\n  top: calc(40% - 100px) !important;\\n  width: 300px !important; }\\n\\n.config-manager-dlg > .content .sequence-name-input {\\n  border: 1px solid #aeaeae;\\n  width: calc(100% - 236px);\\n  padding: 0 0 0 10px;\\n  font-weight: normal;\\n  white-space: nowrap;\\n  border-radius: 4px;\\n  text-align: left;\\n  overflow: hidden;\\n  height: 26px;\\n  width: 100%; }\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}