(window.webpackJsonp=window.webpackJsonp||[]).push([[10,9],{310:function(e,t,n){"use strict";n.r(t);var a=n(22),i=n(4),o=n(8),r=n(7),c=n(9),s=function(e){function t(e){var n,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(this,t),n=Object(o.a)(this,Object(r.a)(t).call(this,e,Object(a.a)({},c,{commandId:"ConfigManager"}))),c.parentControl&&(n.control=n.createButtonControl({parentControl:c.parentControl,caption:"Configurations",icon:"toolbar-ff fa fa-server",id:"toolbar-config",handler:function(){n.commandTool.active?n.commandTool.deactivate():n.commandTool.activate()}})),n.commandTool.on("activate",function(){n.control&&n.control.container.classList.add("active"),n.emit("activate")}),n.commandTool.on("deactivate",function(){n.control&&n.control.container.classList.remove("active"),n.emit("deactivate")}),n.commandTool.on("keydown",function(e,t){}),n}return Object(c.a)(t,e),t}(n(343).a);t.default=s},320:function(e,t,n){"use strict";n.r(t);var a=n(13),i=n(22),o=n(3),r=n.n(o),c=n(10),s=n(4),l=n(5),u=n(8),d=n(7),p=n(325),h=n(9),m=n(2),f=n(6),v=n(328),g=n(23),b=n(344),y=n.n(b),w=function(){function e(t){Object(s.a)(this,e),this.apiUrl=t,this.storageSvc=g.a.getService("StorageSvc")}return Object(l.a)(e,[{key:"getSequences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n){var a="".concat(e.apiUrl,"/sequences"),i=e.storageSvc.load(a,[]);t.sortByName&&(i=y()(i,function(e){return e.name})),n(i)})}},{key:"addSequence",value:function(e){var t=this;return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(i){var o,c;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(t.apiUrl,"/sequences"),n.next=3,t.getSequences();case 3:c=n.sent,t.storageSvc.save(o,Object(a.a)(c).concat([e])),i();case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}())}},{key:"updateSequence",value:function(e){var t=this;return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(i){var o,c;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="".concat(t.apiUrl,"/sequences"),n.next=3,t.getSequences();case 3:c=n.sent,t.storageSvc.save(o,Object(a.a)(c.filter(function(t){return t.id!==e.id})).concat([e])),i(e);case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}())}},{key:"deleteSequence",value:function(e){var t=this;return new Promise(function(){var n=Object(c.a)(r.a.mark(function n(a){var i,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat(t.apiUrl,"/sequences"),n.next=3,t.getSequences();case 3:o=n.sent,t.storageSvc.save(i,o.filter(function(t){return t.id!==e})),a();case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}())}},{key:"getStates",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var n=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var a="".concat(n.apiUrl,"/sequences/").concat(t,"/states");e(n.storageSvc.load(a,[]))}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addState",value:function(e,t){var n=this;return new Promise(function(){var i=Object(c.a)(r.a.mark(function i(o){var c,s;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return c="".concat(n.apiUrl,"/sequences/").concat(e,"/states"),i.next=3,n.getStates(e);case 3:s=i.sent,n.storageSvc.save(c,Object(a.a)(s).concat([t])),o();case 6:case"end":return i.stop()}},i,this)}));return function(e){return i.apply(this,arguments)}}())}},{key:"deleteState",value:function(e,t){var n=this;return new Promise(function(){var a=Object(c.a)(r.a.mark(function a(i){var o,c;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o="".concat(n.apiUrl,"/sequences/").concat(e,"/states"),a.next=3,n.getStates(e);case 3:c=a.sent,n.storageSvc.save(o,c.filter(function(e){return e.id!==t})),i();case 6:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}())}}]),e}(),k=n(394),x=n.n(k),S=n(310),O=n(388),E=n.n(O),j=(n(548),n(336)),C=(n(550),n(552)),N=n.n(C),T=n(380),q=n.n(T),_=n(373),M=n(366),A=n(0),I=n.n(A),L=n(440),D=function(e){function t(e,n){var a;if(Object(s.a)(this,t),a=Object(u.a)(this,Object(d.a)(t).call(this,e,n)),Object(f.a)(Object(m.a)(Object(m.a)(a)),"onActivateCommand",function(){a.options.docked?a.react.pushRenderExtension(Object(m.a)(Object(m.a)(a))):a.react.pushViewerPanel(Object(m.a)(Object(m.a)(a)))}),Object(f.a)(Object(m.a)(Object(m.a)(a)),"onDeactivateCommand",function(){a.options.docked?a.react.popRenderExtension(Object(m.a)(Object(m.a)(a))):a.react.popViewerPanel(a.id)}),Object(f.a)(Object(m.a)(Object(m.a)(a)),"closePanel",function(){a.configManagerCmd.deactivate()}),a.renderTitle=a.renderTitle.bind(Object(m.a)(Object(m.a)(a))),a.toggleItem=a.toggleItem.bind(Object(m.a)(Object(m.a)(a))),a.addItem=a.addItem.bind(Object(m.a)(Object(m.a)(a))),a.restoreFilter=n.restoreFilter||null,a.playPeriod=a.options.playPeriod||1800,a.dialogSvc=g.a.getService("DialogSvc"),a.itemsClass=a.guid(),a.react=n.react,a.restoreStates={},a.drake=null,a.options.apiUrl){var i=n.apiUrl,o=n.database,r=n.modelId,c="".concat(i,"/").concat(o,"/").concat(r);a.api=new w(c)}return a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"load",value:function(){var e=this;return this.viewer.addEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,function(t){e.options.loader&&e.options.loader.show(!1)}),this.itemToggling=this.options.itemToggling,this.react.setState({emptyStateNameCaption:this.options.emptyStateNameCaption||"State Name ...",disabled:this.options.disabled,stateSelection:!0,stateCreation:!0,newSequenceName:"",newStateName:"",sequence:null,sequences:[],play:!1,loop:!0,items:[]}).then(Object(c.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.options.docked){t.next=5;break}return t.next=3,e.react.pushRenderExtension(e);case 3:t.next=7;break;case 5:return t.next=7,e.react.pushViewerPanel(e);case 7:e.options.readonly&&(e.configManagerCmd=new S.default(e.viewer,{parentControl:e.options.toolbar}),e.configManagerCmd.on("deactivate",e.onDeactivateCommand),e.configManagerCmd.on("activate",e.onActivateCommand),e.configManagerCmd.activate()),e.api&&e.loadSequences();case 9:case"end":return t.stop()}},t,this)}))),console.log("Viewing.Extension.ConfigManager loaded"),!0}},{key:"unload",value:function(){return console.log("Viewing.Extension.ConfigManager unloaded"),this.react.popViewerPanel(this),Object(p.a)(Object(d.a)(t.prototype),"unload",this).call(this),!0}},{key:"sleep",value:function(e){return new Promise(function(t){setTimeout(function(){t()},e)})}},{key:"loadSequences",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getSequences({sortByName:!0});case 2:return t=e.sent,this.options.readonly&&(t=t.map(function(e){return Object(i.a)({},e,{readonly:!0})})),n=t.length?t[0]:null,e.next=7,this.react.setState({sequences:t});case 7:return e.next=9,this.sleep(2e3);case 9:return e.next=11,this.setActiveSequence(n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onModelActivated",value:function(e){this.setModel(e.model),this.loadSequences()}},{key:"setModel",value:function(e){var t=e.dbModelId||this.options.modelId,n=e.database||this.options.database,a=this.options.apiUrl,i="".concat(a,"/").concat(n,"/").concat(t);this.api=new w(i)}},{key:"getDefaultName",value:function(){var e=new Date,t={y:e.getFullYear(),s:e.getSeconds(),m:e.getMinutes(),h:e.getHours(),M:e.getMonth(),d:e.getDay()},n=t.M,a=t.y,i=t.h,o=t.m,r=t.s;return"".concat(t.d,"/").concat(n,"/").concat(a," - ").concat(i,":").concat(o,":").concat(r)}},{key:"addSequence",value:function(){var e=this;this.react.setState({newSequenceName:""});this.dialogSvc.on("dialog.close",function t(n){if("OK"===n){var i=e.react.getState(),o=i.newSequenceName?q.a.sanitize(i.newSequenceName):e.getDefaultName(),r={id:e.guid(),stateIds:[],name:o},c=y()(Object(a.a)(i.sequences).concat([r]),function(e){return e.name});e.react.setState({sequences:c,items:[]}),e.setActiveSequence(r),e.api&&e.api.addSequence(r)}e.dialogSvc.off("dialog.close",t)}),this.dialogSvc.setState({className:"config-manager-dlg",title:"Add Sequence ...",content:I.a.createElement("div",null,I.a.createElement(L.a,{onChange:function(t){return e.onInputChanged(t,"newSequenceName")},onKeyDown:function(t){return e.onKeyDown(t)},placeholder:"Sequence name ...",className:"sequence-name-input"})),open:!0})}},{key:"copySequence",value:function(e){var t=this;this.react.setState({newSequenceName:e+"-copy"});this.dialogSvc.on("dialog.close",function e(n){if("OK"===n){var i=t.react.getState(),o=i.items.map(function(e){return Object.assign({},e,{id:t.guid(),active:!1})}),r=o.map(function(e){return e.id}),c=Object.assign({},i.sequence,{name:i.newSequenceName,readonly:!1,id:t.guid(),stateIds:r}),s=y()(Object(a.a)(i.sequences).concat([c]),function(e){return e.name});t.react.setState({sequences:s,sequence:c,items:o}),t.api&&t.api.addSequence(Object.assign({},c,{stateIds:[]})).then(function(){t.api.addState(c.id,o)})}t.dialogSvc.off("dialog.close",e)}),this.dialogSvc.setState({className:"config-manager-dlg",title:"Copy Sequence ...",content:I.a.createElement("div",null,I.a.createElement(L.a,{onChange:function(e){return t.onInputChanged(e,"newSequenceName")},onKeyDown:function(e){return t.onKeyDown(e)},placeholder:"Sequence name ...",className:"sequence-name-input"})),open:!0})}},{key:"deleteSequence",value:function(){var e=this,t=this.react.getState();this.dialogSvc.on("dialog.close",function n(a){if("OK"===a){clearTimeout(e.playTimeout),e.api&&e.api.deleteSequence(t.sequence.id),e.emit("sequence.deleted",t.sequence);var i=t.sequences.filter(function(e){return e.id!==t.sequence.id}),o=i.length?i[0]:null;e.react.setState({play:!1,sequences:i}),e.setActiveSequence(o)}e.dialogSvc.off("dialog.close",n)});var n=q.a.sanitize("Are you sure you want to delete"+" <b>".concat(t.sequence.name,"</b> ?"));this.dialogSvc.setState({className:"config-manager-dlg",title:"Delete Sequence ...",content:I.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}),open:!0})}},{key:"getStateIds",value:function(){var e=document.getElementsByClassName(this.itemsClass)[0];return Array.from(e.childNodes).map(function(e){return e.dataset.id})}},{key:"onUpdateSequence",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,a,i,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.react.getState(),n=t.sequence,a=t.items,i=this.getStateIds(),o=Object.assign({},n,{stateIds:i}),c=i.map(function(e){var t=!0,n=!1,i=void 0;try{for(var o,r=a[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var c=o.value;if(c.id===e)return c}}catch(s){n=!0,i=s}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}),this.react.setState({sequence:o,items:c}),this.api&&this.api.updateSequence(o);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addItem",value:function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.react.getState(),n=t.newStateName.length?q.a.sanitize(t.newStateName):this.getDefaultName(),o=Object(i.a)({},this.viewer.getState(),{renderOptions:!1,id:this.guid(),name:n}),this.api&&this.api.addState(t.sequence.id,o),e.next=6,this.react.setState({items:Object(a.a)(t.items).concat([o]),newStateName:"",play:!1});case 6:this.restoreStates[o.id]=o,this.onRestoreState(o,!0),clearTimeout(this.playTimeout);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onRestoreState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.restoreImmediate,n=this.filterState(e,"objectSet","explodeScale");this.viewer.restoreState(n,this.restoreFilter,t)}},{key:"deleteItem",value:function(e){var t=this.react.getState();this.react.setState({items:t.items.filter(function(t){return t.id!==e}),play:!1}),this.emit("state.deleted",e),delete this.restoreStates[e],this.api&&this.api.deleteState(t.sequence.id,e),clearTimeout(this.playTimeout)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}},{key:"onInputChanged",value:function(e,t){var n=this.react.getState();n[t]=e.target.value,this.react.setState(n)}},{key:"filterState",value:function(e,t,n){var a=JSON.parse(JSON.stringify(e)),i=Array.isArray(t)?t:[t],o=Array.isArray(n)?n:[n];return i.forEach(function(e){a[e]&&o.forEach(function(t){a[e].forEach(function(e){delete e[t]})})}),a}},{key:"restoreStateWithPivot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.viewer;a.addEventListener(Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,function t(){a.removeEventListener(Autodesk.Viewing.VIEWER_STATE_RESTORED_EVENT,t);var n=e.viewport.pivotPoint;setTimeout(function(){a.navigation.setPivotPoint(new THREE.Vector3(n[0],n[1],n[2]))},1250)}),a.restoreState(e,t,n)}},{key:"activateDrag",value:function(){var e=this,t=document.getElementsByClassName(this.itemsClass)[0];this.drake&&this.drake.destroy(),this.drake=N()([t]),this.drake.on("drop",function(){e.onUpdateSequence()})}},{key:"setActiveSequence",value:function(){var e=Object(c.a)(r.a.mark(function e(t){var n,a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return clearTimeout(this.playTimeout),this.restoreStates={},this.playTimeout=null,this.sequenceIdx=0,e.next=6,this.react.setState({play:!1,items:[],sequence:t});case 6:if(this.drake&&(this.drake.destroy(),this.drake=null),!t){e.next=16;break}if(t.readonly||this.activateDrag(),!this.api){e.next=16;break}return e.next=12,this.api.getStates(t.id);case 12:return(n=e.sent).forEach(function(e){a.restoreStates[e.id]=e}),e.next=16,this.react.setState({items:n});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"playSequence",value:function(){var e=this;if(this.playTimeout)return clearTimeout(this.playTimeout),this.playTimeout=null,this.sequenceIdx=0,void this.react.setState({play:!1});var t=this.getStateIds();t.length>0&&(this.playTimeout=function n(a){var i=e.react.getState();if(e.onRestoreState(e.restoreStates[a]),e.react.setState({play:!0,items:i.items.map(function(t){return t.active&&(t.active=!1,e.emit("state.toggled",t)),t.id===a&&(t.active=!0,e.emit("state.toggled",t)),t})}),++e.sequenceIdx==t.length){if(!e.react.getState().loop)return e.react.setState({play:!1}),void(e.playTimeout=null);e.sequenceIdx=0}return setTimeout(function(){var t=e.react.getState().items;e.react.setState({items:t.map(function(e){return e.active=!1,e})})},.8*e.playPeriod),setTimeout(function(){e.playTimeout=n(t[e.sequenceIdx])},e.playPeriod)}(t[this.sequenceIdx]))}},{key:"setDocking",value:function(){var e=Object(c.a)(r.a.mark(function e(n){var a,i,o,c,s=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ExtensionId,i=this.react.getState(),o=i.sequence,!n){e.next=11;break}return e.next=5,this.react.popRenderExtension(this);case 5:return e.next=7,this.react.pushViewerPanel(this,{height:250,width:300});case 7:(c=e.sent).on("update",function(){o&&!o.readonly&&s.activateDrag(),c.off()}),e.next=16;break;case 11:return e.next=13,this.react.popViewerPanel(a);case 13:return e.next=15,this.react.pushRenderExtension(this);case 15:this.setActiveSequence(o);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"renderTitle",value:function(){return I.a.createElement("div",{className:"title"},I.a.createElement("label",null,"Configurations Manager"),this.options.readonly&&!this.options.docked&&I.a.createElement("div",{className:"controls"},I.a.createElement("button",{onClick:this.closePanel,title:"Close"},I.a.createElement("span",{className:"fa fa-times"}))))}},{key:"renderControls",value:function(){var e=this,t=this.react.getState(),n=(t.sequences||[]).map(function(t){var n=t.id;return I.a.createElement(E.a,{eventKey:n,key:n,onClick:function(){e.setActiveSequence(t)}},t.name)}),a=t.sequence,i=a?a.name:"",o=!a||a.readonly||!t.stateCreation,r=this.options.readonly?"controls readonly":"controls";return I.a.createElement("div",{className:r},I.a.createElement("div",{className:"row"},I.a.createElement(x.a,{title:"Sequence: "+i,className:"sequence-dropdown",disabled:!a,key:"sequence-dropdown",id:"sequence-dropdown"},n),!this.options.readonly&&I.a.createElement("button",{onClick:function(){return e.addSequence()},title:"Add sequence"},I.a.createElement("span",{className:"fa fa-plus"})),!this.options.readonly&&I.a.createElement("button",{onClick:function(){e.copySequence(a.name)},disabled:!a,title:"Copy sequence"},I.a.createElement("span",{className:"fa fa-copy"})),!this.options.readonly&&I.a.createElement("button",{onClick:function(){return e.deleteSequence()},disabled:!a||a.readonly,title:"Delete sequence"},I.a.createElement("span",{className:"fa fa-times"}))),!this.options.readonly&&I.a.createElement("div",{className:"row"},o&&I.a.createElement(L.a,{onChange:function(t){return e.onInputChanged(t,"newStateName")},placeholder:t.emptyStateNameCaption,onKeyDown:function(t){return e.onKeyDown(t)},className:"state-name-input",value:t.newStateName,disabled:!0}),!o&&I.a.createElement(L.a,{onChange:function(t){return e.onInputChanged(t,"newStateName")},placeholder:t.emptyStateNameCaption,onKeyDown:function(t){return e.onKeyDown(t)},className:"state-name-input",value:t.newStateName}),I.a.createElement("button",{disabled:o,onClick:this.addItem,title:"Save state"},I.a.createElement("span",{className:"fa fa-database"})),I.a.createElement("button",{title:t.play?"Pause sequence":"Play sequence",onClick:function(){return e.playSequence()},disabled:!a},I.a.createElement("span",{className:"fa fa-"+(t.play?"pause":"play")})),I.a.createElement(_.a,{isChecked:!0,className:"loop",title:"Loop sequence",onChange:function(t){e.react.setState({loop:t})}})))}},{key:"toggleItem",value:function(e){var t=this,n=this.react.getState().items.map(function(n){return n.id===e.id&&(n.active=!n.active,n.active&&t.onRestoreState(e)),n});this.emit("state.toggled",e),this.react.setState({items:n})}},{key:"renderItems",value:function(){var e=this,t=this.react.getState(),n=!t.sequence||t.sequence.readonly,a=t.items.map(function(a){var i=q.a.sanitize(a.name),o="item"+(t.stateSelection?" selectable":"")+(e.itemToggling?" toggable":"")+(a.active?" active":"");return I.a.createElement("div",{"data-id":a.id,"data-name":i,className:o,key:a.id,onClick:function(){t.stateSelection&&(e.itemToggling?e.toggleItem(a):e.onRestoreState(a))}},I.a.createElement(M.a,{text:i}),!n&&I.a.createElement("button",{onClick:function(t){e.deleteItem(a.id),t.stopPropagation(),t.preventDefault()},title:"Delete state"},I.a.createElement("span",{className:"fa fa-times"})))});return I.a.createElement("div",{className:"items ".concat(this.itemsClass)},a)}},{key:"render",value:function(e){var t=this,n=this.react.getState();return I.a.createElement(j.a,{renderTitle:function(){return t.renderTitle(e.docked)},showTitle:e.showTitle,className:this.className},n.disabled&&I.a.createElement("div",{className:"disabled-overlay"}),this.renderControls(),this.renderItems())}},{key:"className",get:function(){return"config-manager"}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.ConfigManager"}}]),t}(v.a);Autodesk.Viewing.theExtensionManager.registerExtension(D.ExtensionId,D);t.default="Viewing.Extension.ConfigManager"},328:function(e,t,n){"use strict";var a=n(13),i=n(22),o=n(4),r=n(5),c=n(8),s=n(7),l=n(325),u=n(9),d=n(2),p=function(e){function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).onModelCompletedLoad=n.onModelCompletedLoad.bind(Object(d.a)(Object(d.a)(n))),n.onObjectTreeCreated=n.onObjectTreeCreated.bind(Object(d.a)(Object(d.a)(n))),n.onModelRootLoaded=n.onModelRootLoaded.bind(Object(d.a)(Object(d.a)(n))),n.onExtensionLoaded=n.onExtensionLoaded.bind(Object(d.a)(Object(d.a)(n))),n.onModelActivated=n.onModelActivated.bind(Object(d.a)(Object(d.a)(n))),n.onGeometryLoaded=n.onGeometryLoaded.bind(Object(d.a)(Object(d.a)(n))),n.onToolbarCreated=n.onToolbarCreated.bind(Object(d.a)(Object(d.a)(n))),n.onModelBeginLoad=n.onModelBeginLoad.bind(Object(d.a)(Object(d.a)(n))),n.onModelUnloaded=n.onModelUnloaded.bind(Object(d.a)(Object(d.a)(n))),n.onSelection=n.onSelection.bind(Object(d.a)(Object(d.a)(n))),n.__onLoadNodeProperties=n.__onLoadNodeProperties.bind(Object(d.a)(Object(d.a)(n))),n.__onModelRootLoaded=n.__onModelRootLoaded.bind(Object(d.a)(Object(d.a)(n))),n.__onModelActivated=n.__onModelActivated.bind(Object(d.a)(Object(d.a)(n))),n.__onModelUnloaded=n.__onModelUnloaded.bind(Object(d.a)(Object(d.a)(n))),n.__onModelLoaded=n.__onModelLoaded.bind(Object(d.a)(Object(d.a)(n))),n.models=e.impl.modelQueue().getModels(),n.defaultOptions=r,n.options=Object(i.a)({},r,a),n.react=n.options.react,n.viewer=e,n.initializeEvents(),n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"load",value:function(){return this.options.contextMenu&&this.onContextMenu&&this.options.contextMenu.addHandler(this.onContextMenu),!0}},{key:"unload",value:function(){var e=this;return this.options.contextMenu&&this.onContextMenu&&this.options.contextMenu.removeHandler(this.onContextMenu),this.viewerEvents.forEach(function(t){e.viewer.removeEventListener(t.id,e[t.handler])}),this.eventSink&&(this.eventSink.off("MetaProperties:loadNodeProperties",this.__onLoadNodeProperties),this.eventSink.off("model.activated",this.__onModelActivated),this.eventSink.off("model.unloaded",this.__onModelUnloaded),this.eventSink.off("model.loaded",this.__onModelLoaded)),this.off(),!0}},{key:"onExtensionLoaded",value:function(e){}},{key:"onModelBeginLoad",value:function(e){}},{key:"onModelActivated",value:function(e){}},{key:"__onModelRootLoaded",value:function(e){var t=this;this.viewerEvent([Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,Autodesk.Viewing.GEOMETRY_LOADED_EVENT]).then(function(e){t.onModelCompletedLoad(e[0])})}},{key:"onModelRootLoaded",value:function(e){}},{key:"onObjectTreeCreated",value:function(e){}},{key:"onGeometryLoaded",value:function(e){}},{key:"onModelCompletedLoad",value:function(e){}},{key:"onToolbarCreated",value:function(e){}},{key:"onModelUnloaded",value:function(e){}},{key:"onSelection",value:function(e){}},{key:"__onLoadNodeProperties",value:function(e){var t=e.dbId,n=e.properties;if(this.onLoadNodeProperties)return this.onLoadNodeProperties(t,n)}},{key:"__onModelLoaded",value:function(e){this.models=Object(a.a)(this.models).concat([e.model]),this.onModelBeginLoad(e)}},{key:"__onModelActivated",value:function(e){this.onModelActivated(e)}},{key:"__onModelUnloaded",value:function(e){this.models=this.models.filter(function(t){return t.guid!==e.model.guid}),this.onModelUnloaded(e)}},{key:"initializeEvents",value:function(){var e=this;this.options.eventSink&&(this.eventSink=this.options.eventSink,this.eventSink.on("MetaProperties:loadNodeProperties",this.__onLoadNodeProperties),this.eventSink.on("model.loaded",this.__onModelLoaded),this.eventSink.on("model.activated",this.__onModelActivated),this.eventSink.on("model.unloaded",this.__onModelUnloaded)),this.viewerEvents=[{id:Autodesk.Viewing.EXTENSION_LOADED_EVENT,handler:"onExtensionLoaded"},{id:Autodesk.Viewing.OBJECT_TREE_CREATED_EVENT,handler:"onObjectTreeCreated"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"__onModelRootLoaded"},{id:Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT,handler:"onModelRootLoaded"},{id:Autodesk.Viewing.GEOMETRY_LOADED_EVENT,handler:"onGeometryLoaded"},{id:Autodesk.Viewing.TOOLBAR_CREATED_EVENT,handler:"onToolbarCreated"}],this.options.controlledSelection||this.viewerEvents.push({id:Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT,handler:"onSelection"}),this.viewerEvents.forEach(function(t){e.viewerEvent(t.id,e[t.handler])})}},{key:"viewerEvent",value:function(e,t){var n=this;if(!t){var a=(Array.isArray(e)?e:[e]).map(function(e){return new Promise(function(t){n.viewer.addEventListener(e,function a(i){n.viewer.removeEventListener(e,a),t(i)})})});return Promise.all(a)}this.viewer.addEventListener(e,t)}},{key:"emit",value:function(e,n){return this.options.eventSink?this.options.eventSink.emit(e,n):Object(l.a)(Object(s.a)(t.prototype),"emit",this).call(this,e,n)}},{key:"emitAcc",value:function(e,n){return this.options.eventSink?this.options.eventSink.emitAcc(e,n):Object(l.a)(Object(s.a)(t.prototype),"emitAcc",this).call(this,e,n)}}],[{key:"ExtensionId",get:function(){return"Viewing.Extension.MultiModelExtensionBase"}}]),t}(n(30).a.Composer(Autodesk.Viewing.Extension));t.a=p},333:function(e,t,n){var a=n(334);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(21)(a,i);a.locals&&(e.exports=a.locals)},334:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,".widget-container {\n  position: relative;\n  height: 100%;\n  width: 100%; }\n\n.widget-container > .title {\n  border-bottom: 1px solid #cdcdcd;\n  background-color: #f5f5f5;\n  padding-right: 10px;\n  color: black;\n  position: relative;\n  overflow: hidden;\n  text-align: left;\n  height: 40px;\n  width: 100%; }\n\n.widget-container > .title > label {\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  margin-left: 27px;\n  margin-top: 10px; }\n\n.widget-container > .content {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%; }\n",""])},336:function(e,t,n){"use strict";var a=n(13),i=n(4),o=n(5),r=n(8),c=n(7),s=n(9),l=n(6),u=(n(333),n(0)),d=n.n(u),p=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"renderTitle",value:function(){return this.props.showTitle?this.props.renderTitle?this.props.renderTitle():d.a.createElement("div",{className:"title"},d.a.createElement("label",null,this.props.title)):d.a.createElement("div",null)}},{key:"renderChildren",value:function(){var e=this;return this.props.dimensions?d.a.Children.map(this.props.children,function(t){var n=Object.assign({},t.props,{dimensions:e.props.dimensions});return d.a.cloneElement(t,n)}):this.props.children}},{key:"render",value:function(){var e=["widget-container"].concat(Object(a.a)(this.props.className.split(" "))),t=this.props.showTitle?"calc(100% - 40px)":"100%";return d.a.createElement("div",{className:e.join(" "),style:this.props.style},this.renderTitle(),d.a.createElement("div",{className:"content",style:{height:t}},this.renderChildren()))}}]),t}(d.a.PureComponent);Object(l.a)(p,"defaultProps",{showTitle:!0,className:""});var h=p;t.a=h},343:function(e,t,n){"use strict";var a=n(4),i=n(5),o=n(8),r=n(7),c=n(9),s=n(2),l=n(30),u=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,t),(n=Object(o.a)(this,Object(r.a)(t).call(this))).toolName=i.commandId,e.toolController.registerTool(Object(s.a)(Object(s.a)(n))),n.options=i,n.viewer=e,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"getNames",value:function(){return[this.toolName]}},{key:"getName",value:function(){return this.toolName}},{key:"activate",value:function(){this.active||(this.active=!0,this.viewer.toolController.activateTool(this.toolName),this.emit("activate",this))}},{key:"deactivate",value:function(){this.active&&(this.active=!1,this.viewer.toolController.deactivateTool(this.toolName),this.emit("deactivate",this))}},{key:"unregister",value:function(){this.deactivate(),this.off(),this.viewer.toolController.deregisterTool(this)}},{key:"handleSingleClick",value:function(e,t){return this.emit("singleclick",e,t)}},{key:"handleMouseMove",value:function(e){return this.emit("mousemove",e)}},{key:"handleKeyDown",value:function(e,t){return this.emit("keydown",e,t)}},{key:"handleKeyUp",value:function(e,t){return this.emit("keyup",e,t)}},{key:"handleButtonDown",value:function(e,t){return this.emit("buttondown",e,t)}},{key:"handleButtonUp",value:function(e,t){return this.emit("buttonup",e,t)}}]),t}(l.a),d=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,t),(n=Object(o.a)(this,Object(r.a)(t).call(this))).commandTool=new u(e,i),n.commandTool.on("activate",function(e){n.emit("command.activate",Object(s.a)(Object(s.a)(n)))}),n.commandTool.on("deactivate",function(e){n.emit("command.deactivate",Object(s.a)(Object(s.a)(n)))}),n.commandId=i.commandId,n.options=i,n.viewer=e,n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"activate",value:function(){this.commandTool.active||(this.commandTool.activate(),this.onActivate())}},{key:"onActivate",value:function(){}},{key:"deactivate",value:function(){this.commandTool.active&&(this.commandTool.deactivate(),this.onDeactivate())}},{key:"onDeactivate",value:function(){}},{key:"terminate",value:function(){this.control&&this.options.parentControl.removeControl(this.control),this.commandTool.unregister(),this.off()}},{key:"toggle",value:function(){this.active?this.deactivate():this.activate()}},{key:"createButton",value:function(e,t,n,a){var i=new Autodesk.Viewing.UI.Button(e);return i.icon.style.fontSize="24px",i.icon.className=t,i.setToolTip(n),i.onClick=a,i}},{key:"createButtonControl",value:function(e){var t=this.createButton(e.id,e.icon,e.caption,e.handler),n=e.parentControl;if(!n){var a=this.viewer.getToolbar(!0);n=new Autodesk.Viewing.UI.ControlGroup(e.id),a.addControl(n)}return n.addControl(t),t}},{key:"active",get:function(){return this.commandTool.active}}]),t}(l.a);t.a=d},363:function(e,t,n){var a=n(364);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(21)(a,i);a.locals&&(e.exports=a.locals)},364:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,".label-container {\n  position: relative;\n  overflow: hidden;\n  font-size: 100%;\n  color: #343434;\n  height: 100%;\n  float: left; }\n",""])},366:function(e,t,n){"use strict";var a=n(13),i=n(4),o=n(5),r=n(8),c=n(7),s=n(9),l=n(6),u=n(380),d=n.n(u),p=n(0),h=n.n(p),m=(n(363),function(e){function t(e){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).call(this,e))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=["label-container"].concat(Object(a.a)(this.props.className.split(" "))),t={width:"center"===this.props.textAlign?"100%":"",textAlign:this.props.textAlign};return h.a.createElement("div",{className:e.join(" "),style:t},h.a.createElement("p",null,d.a.sanitize(this.props.text)))}}]),t}(h.a.PureComponent));Object(l.a)(m,"defaultProps",{textAlign:"left",className:"",text:""});t.a=m},373:function(e,t,n){"use strict";var a=n(13),i=n(4),o=n(5),r=n(8),c=n(7),s=n(9),l=n(2),u=n(6),d=n(0),p=n.n(d),h=function(e){function t(){var e;return Object(i.a)(this,t),e=Object(r.a)(this,Object(c.a)(t).call(this)),Object(u.a)(Object(l.a)(Object(l.a)(e)),"toggle",function(){if(!e.props.disabled){var t=!e.state.checked;e.setState({checked:t}),e.props.onChange&&e.props.onChange(t)}}),e.state={checked:!0},e}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.setState({checked:this.props.checked})}},{key:"render",value:function(){var e=["switch-container",this.props.disabled?"disabled":""].concat(Object(a.a)(this.props.className.split(" ")));return p.a.createElement("div",{className:e.join(" "),title:this.props.title,style:this.props.style,onClick:this.toggle},p.a.createElement("input",{ref:"switch",className:"switch",checked:this.state.checked,value:this.state.checked,onChange:function(){},type:"checkbox"}),p.a.createElement("div",null,p.a.createElement("span",null,p.a.createElement("p",{className:"icon icon-toolbar grid-view"})),p.a.createElement("span",null,p.a.createElement("p",{className:"icon icon-toolbar ticket-view"})),p.a.createElement("div",null)))}}]),t}(p.a.Component);Object(u.a)(h,"defaultProps",{checked:!0,className:"",style:{},title:""});n(381),t.a=h},381:function(e,t,n){var a=n(382);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(21)(a,i);a.locals&&(e.exports=a.locals)},382:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,'.switch-container {\n  position: relative; }\n\n.switch-container *:hover {\n  cursor: pointer; }\n\n.switch-container.disabled *:hover {\n  cursor: not-allowed; }\n\ninput[type="checkbox"].switch {\n  pointer-events: none;\n  position: absolute;\n  cursor: pointer;\n  opacity: 0; }\n\ninput[type="checkbox"].switch + div {\n  vertical-align: middle;\n  width: 40px;\n  height: 20px;\n  border-radius: 999px;\n  background-color: #9d9d9d;\n  transition-duration: .4s;\n  transition-property: background-color, box-shadow;\n  cursor: pointer; }\n\ninput[type="checkbox"].switch + div span {\n  position: absolute;\n  font-size: 1.6rem;\n  color: #f5f5f5;\n  margin-top: 12px; }\n\ninput[type="checkbox"].switch + div span:nth-child(1) {\n  margin-left: 15px; }\n\ninput[type="checkbox"].switch + div span:nth-child(2) {\n  margin-left: 55px; }\n\ninput[type="checkbox"].switch:checked + div {\n  background-position: 0 0;\n  background-color: #0089c7; }\n\n.switch-container.disabled input[type="checkbox"].switch + div {\n  background-color: rgba(157, 157, 157, 0.5); }\n\ninput[type="checkbox"].switch + div {\n  height: 26px;\n  width: 60px; }\n\ninput[type="checkbox"].switch + div > div {\n  float: left;\n  width: 24px;\n  height: 24px;\n  border-radius: inherit;\n  background: #f5f5f5;\n  transition-timing-function: cubic-bezier(1, 0, 0, 1);\n  transition-duration: 0.4s;\n  transition-property: background-color, -webkit-transform;\n  transition-property: transform, background-color;\n  transition-property: transform, background-color, -webkit-transform;\n  pointer-events: none;\n  margin-top: 1px;\n  margin-left: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  -webkit-transform: translate3d(20px, 0, 0);\n  transform: translate3d(20px, 0, 0);\n  background-color: #f5f5f5; }\n\ninput[type="checkbox"].bigswitch.switch + div > div {\n  width: 44px;\n  height: 44px;\n  margin-top: 1px; }\n\ninput[type="checkbox"].switch:checked + div > div {\n  -webkit-transform: translate3d(34px, 0, 0);\n  transform: translate3d(34px, 0, 0); }\n',""])},422:function(e,t,n){var a=n(423);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(21)(a,i);a.locals&&(e.exports=a.locals)},423:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,".input {\n  background: #e0e0e0;\n  margin-bottom: 6px;\n  height: 32px; }\n  .input input {\n    -webkit-user-select: auto !important;\n       -moz-user-select: auto !important;\n        -ms-user-select: auto !important;\n            user-select: auto !important;\n    background: transparent;\n    padding: 0 0 0 4px;\n    outline: none;\n    border: none;\n    height: 100%;\n    width: 100%; }\n  .input input[disabled] {\n    background: #f7f6f6;\n    color: #949494; }\n  .input input:focus {\n    outline: none; }\n",""])},440:function(e,t,n){"use strict";var a=n(13),i=n(4),o=n(5),r=n(8),c=n(7),s=n(9),l=n(6),u=n(0),d=n.n(u),p=(n(422),function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=Object(a.a)(this.props.className.split(" ")).concat(["input"]).join(" ");return d.a.createElement("div",{className:t},d.a.createElement("input",{onChange:function(t){return e.props.onChange(t)},placeholder:this.props.placeholder,onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex,disabled:this.props.disabled,ref:function(t){e.input=t},value:this.props.value,type:this.props.type,name:this.props.name,autoComplete:"false"}),d.a.createElement("label",{htmlFor:this.props.name}))}}]),t}(u.PureComponent));Object(l.a)(p,"defaultProps",{onKeyDown:function(e){},onChange:function(e){},placeholder:"",className:"",name:"input",valueInit:"",type:"text",tabIndex:1});t.a=p},548:function(e,t,n){var a=n(549);"string"===typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(21)(a,i);a.locals&&(e.exports=a.locals)},549:function(e,t,n){(e.exports=n(20)(!1)).push([e.i,'.config-manager .title {\n  display: inline-flex;\n  float: left; }\n\n.config-manager .title > label {\n  white-space: nowrap;\n  font-weight: normal;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  user-select: none;\n  margin-left: 27px;\n  margin-top: 10px;\n  width: 144px;\n  float: left; }\n\n.config-manager .content > .controls {\n  margin: 6px 6px 0px 5px;\n  display: block;\n  white-space: nowrap;\n  height: 54px;\n  width: 100%; }\n  .config-manager .content > .controls .dropdown {\n    width: calc(100% - 114px);\n    margin-bottom: 5px;\n    float: left; }\n  .config-manager .content > .controls.readonly {\n    height: 24px; }\n    .config-manager .content > .controls.readonly .dropdown {\n      width: calc(100% - 12px); }\n\n.config-manager .content > .controls > .row {\n  display: flex;\n  width: 100%;\n  margin: 0; }\n\n.config-manager .content > .controls .dropdown > button {\n  padding: 0 10px 0 10px;\n  overflow: hidden;\n  height: 26px;\n  width: 100%;\n  margin: 0; }\n\n.config-manager .content > .controls button {\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  background: #ededed;\n  border-radius: 4px;\n  margin-left: 4px;\n  outline: none;\n  height: 26px;\n  width: 30px;\n  float: left;\n  padding: 0; }\n\n.config-manager .content > .controls button > span {\n  margin: auto auto auto 0px;\n  position: relative;\n  font-size: 16px;\n  padding: 0px;\n  height: 100%;\n  width: 100%;\n  top: -1px; }\n\n.config-manager .content > .controls button > span.caret {\n  margin: auto 0 auto auto;\n  width: 0px; }\n\n.config-manager .content > .controls label {\n  margin: 4px 10px 0 10px;\n  font-weight: normal;\n  float: left; }\n\n.config-manager .content > .controls .state-name-input {\n  border: 1px solid #aeaeae;\n  width: calc(100% - 148px);\n  background: #ededed;\n  white-space: nowrap;\n  border-radius: 4px;\n  text-align: left;\n  overflow: hidden;\n  height: 26px;\n  float: left; }\n\n.config-manager .switch-container {\n  margin-left: 6px;\n  float: left; }\n\n.config-manager input[type="checkbox"].switch:checked + div > div {\n  -webkit-transform: translate3d(38px, 0, 0);\n          transform: translate3d(38px, 0, 0); }\n\n.config-manager input[type="checkbox"].switch + div {\n  border: 1px solid #aeaeae;\n  margin-top: 2px;\n  height: 22px;\n  width: 60px; }\n\n.config-manager input[type="checkbox"].switch + div > div {\n  height: 20px;\n  width: 20px;\n  margin: 0; }\n\n.config-manager .disabled-overlay {\n  background: rgba(255, 255, 255, 0.75);\n  cursor: not-allowed;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  z-index: 10; }\n\n.config-manager .items {\n  height: calc(100% - 74px);\n  margin: 8px 6px 0px 0px;\n  overflow-y: auto; }\n\n.config-manager .items > .item.selectable {\n  cursor: pointer; }\n\n.config-manager .items > .item,\n.gu-mirror.item {\n  transition-property: border, background;\n  transition-timing-function: ease;\n  transition-duration: 1.0s;\n  transition-delay: 0.0s;\n  border: 1px solid #aeaeae;\n  width: calc(100% - 6px);\n  background: #ededed;\n  white-space: nowrap;\n  cursor: not-allowed;\n  border-radius: 4px;\n  overflow: hidden;\n  height: 26px;\n  padding: 2px;\n  margin: 5px; }\n\n.config-manager .items > .item:first-child {\n  margin-top: 0px; }\n\n.config-manager .items > .item.selectable:hover {\n  background: rgba(255, 165, 0, 0.3);\n  border: 1px solid orange; }\n\n.config-manager .items > .item.active:hover,\n.config-manager .items > .item.active {\n  background: rgba(255, 165, 0, 0.3);\n  border: 1px solid orange; }\n\n.config-manager .items > .item > div,\n.gu-mirror.item > div {\n  width: calc(100% - 50px);\n  pointer-events: none;\n  position: relative;\n  margin: 0 0 0 12px;\n  float: left; }\n\n.config-manager .items > .item > div > .label,\n.gu-mirror.item > div > .label {\n  font-weight: normal;\n  font-size: small;\n  color: black;\n  width: 100%; }\n\n.config-manager .items > .item > button,\n.gu-mirror.item > button {\n  border-radius: 4px;\n  position: relative;\n  outline: none;\n  float: right;\n  height: 20px;\n  width: 26px;\n  right: 1px; }\n\n.config-manager .items > .item > button > span,\n.gu-mirror.item > button > span {\n  position: relative;\n  font-size: 20px;\n  top: -2px; }\n\n.config-manager-dlg {\n  left: calc(50% - 150px) !important;\n  top: calc(40% - 100px) !important;\n  width: 300px !important; }\n\n.config-manager-dlg > .content .sequence-name-input {\n  border: 1px solid #aeaeae;\n  width: calc(100% - 236px);\n  padding: 0 0 0 10px;\n  font-weight: normal;\n  white-space: nowrap;\n  border-radius: 4px;\n  text-align: left;\n  overflow: hidden;\n  height: 26px;\n  width: 100%; }\n',""])}}]);
//# sourceMappingURL=10.3d8b1bd9.chunk.js.map